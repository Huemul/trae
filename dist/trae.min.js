!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("trae",[],e):"object"==typeof exports?exports.trae=e():t.trae=e()}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();r(1);var i=r(2).buildQuery,s=r(5),a=r(6),u=r(7).skip,f=r(10),c=r(11),l=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,t),this._middleware=new s,this._config=new a(u(e,["baseUrl"])),this.baseUrl(e.baseUrl||""),this._initMethodsWithBody(),this._initMethodsWithNoBody()}return o(t,[{key:"create",value:function(t){return new this.constructor(t)}},{key:"use",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.config&&this._middleware.request(t.config),(t.fulfill||t.reject)&&this._middleware.response(t.fulfill,t.reject)}},{key:"defaults",value:function(t){return"undefined"==typeof t?this._config.get():(this._config.set(u(t,["baseUrl"])),t.baseUrl&&this.baseUrl(t.baseUrl),this._config.get())}},{key:"baseUrl",value:function(t){return"undefined"==typeof t?this._baseUrl:(this._baseUrl=t,this._baseUrl)}},{key:"request",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.method||(t.method="get");var e=this._config.mergeWithDefaults(t),r=i(f.format(this._baseUrl,t.url),t.params);return this._fetch(r,e)}},{key:"_fetch",value:function(t,e){var r=this;return this._middleware.resolveRequests(e).then(function(e){return fetch(t,e)}).then(function(t){return c(t,e.bodyType)}).then(function(t){return r._middleware.resolveResponses(t)})}},{key:"_initMethodsWithNoBody",value:function(){var t=this;["get","delete","head"].forEach(function(e){t[e]=function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t._config.mergeWithDefaults(n,{method:e}),s=i(f.format(t._baseUrl,r),n.params);return t._fetch(s,o)}})}},{key:"_initMethodsWithBody",value:function(){var t=this;["post","put","patch"].forEach(function(e){t[e]=function(r,n,o){var i=t._config.mergeWithDefaults(o,{body:n,method:e}),s=f.format(t._baseUrl,r);return t._fetch(s,i)}})}}]),t}();t.exports=new l},function(t,e){!function(t){"use strict";function e(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function r(t){return"string"!=typeof t&&(t=String(t)),t}function n(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return y.iterable&&(e[Symbol.iterator]=function(){return e}),e}function o(t){this.map={},t instanceof o?t.forEach(function(t,e){this.append(e,t)},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function i(t){return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function s(t){return new Promise(function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}})}function a(t){var e=new FileReader;return e.readAsArrayBuffer(t),s(e)}function u(t){var e=new FileReader;return e.readAsText(t),s(e)}function f(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,"string"==typeof t)this._bodyText=t;else if(y.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(y.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(y.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(t){if(!y.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t))throw new Error("unsupported BodyInit type")}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):y.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},y.blob?(this.blob=function(){var t=i(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(a)},this.text=function(){var t=i(this);if(t)return t;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var t=i(this);return t?t:Promise.resolve(this._bodyText)},y.formData&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}function c(t){var e=t.toUpperCase();return b.indexOf(e)>-1?e:t}function l(t,e){e=e||{};var r=e.body;if(l.prototype.isPrototypeOf(t)){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new o(t.headers)),this.method=t.method,this.mode=t.mode,r||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=t;if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new o(e.headers)),this.method=c(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function h(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(o))}}),e}function p(t){var e=new o,r=(t.getAllResponseHeaders()||"").trim().split("\n");return r.forEach(function(t){var r=t.trim().split(":"),n=r.shift().trim(),o=r.join(":").trim();e.append(n,o)}),e}function d(t,e){e||(e={}),this.type="default",this.status=e.status,this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText,this.headers=e.headers instanceof o?e.headers:new o(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var y={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};o.prototype.append=function(t,n){t=e(t),n=r(n);var o=this.map[t];o||(o=[],this.map[t]=o),o.push(n)},o.prototype.delete=function(t){delete this.map[e(t)]},o.prototype.get=function(t){var r=this.map[e(t)];return r?r[0]:null},o.prototype.getAll=function(t){return this.map[e(t)]||[]},o.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},o.prototype.set=function(t,n){this.map[e(t)]=[r(n)]},o.prototype.forEach=function(t,e){Object.getOwnPropertyNames(this.map).forEach(function(r){this.map[r].forEach(function(n){t.call(e,n,r,this)},this)},this)},o.prototype.keys=function(){var t=[];return this.forEach(function(e,r){t.push(r)}),n(t)},o.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),n(t)},o.prototype.entries=function(){var t=[];return this.forEach(function(e,r){t.push([r,e])}),n(t)},y.iterable&&(o.prototype[Symbol.iterator]=o.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];l.prototype.clone=function(){return new l(this)},f.call(l.prototype),f.call(d.prototype),d.prototype.clone=function(){return new d(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new o(this.headers),url:this.url})},d.error=function(){var t=new d(null,{status:0,statusText:""});return t.type="error",t};var v=[301,302,303,307,308];d.redirect=function(t,e){if(v.indexOf(e)===-1)throw new RangeError("Invalid status code");return new d(null,{status:e,headers:{location:t}})},t.Headers=o,t.Request=l,t.Response=d,t.fetch=function(t,e){return new Promise(function(r,n){function o(){return"responseURL"in s?s.responseURL:/^X-Request-URL:/m.test(s.getAllResponseHeaders())?s.getResponseHeader("X-Request-URL"):void 0}var i;i=l.prototype.isPrototypeOf(t)&&!e?t:new l(t,e);var s=new XMLHttpRequest;s.onload=function(){var t={status:s.status,statusText:s.statusText,headers:p(s),url:o()},e="response"in s?s.response:s.responseText;r(new d(e,t))},s.onerror=function(){n(new TypeError("Network request failed"))},s.ontimeout=function(){n(new TypeError("Network request failed"))},s.open(i.method,i.url,!0),"include"===i.credentials&&(s.withCredentials=!0),"responseType"in s&&y.blob&&(s.responseType="blob"),i.headers.forEach(function(t,e){s.setRequestHeader(e,t)}),s.send("undefined"==typeof i._bodyInit?null:i._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(t,e,r){"use strict";var n=r(3),o=r(4);t.exports={buildQuery:n,parseQuery:o}},function(t,e){"use strict";function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object.keys(e);return 0===r.length?t:t+encodeURI(r.reduce(function(t,r){return t+"&"+r+"="+(e[r]||"")},"?").replace("?&","?"))}t.exports=r},function(t,e){"use strict";function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!t.includes("?"))return{};var e={},r=decodeURI(t).split("?"),i=o(r,2),s=i[1],a=s.split("&");return a.forEach(function(t){var r=t.split("="),i=o(r,2),s=i[0],a=i[1];e[s]=n(a)}),e}function n(t){if(""!==t){if("true"===t)return!0;if("false"===t)return!1;var e=parseFloat(t);return Number.isNaN(e)||e!=t?t:e}}var o=function(){function t(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(o)throw i}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.exports=r},function(t,e){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=function(t){return t},i=function(t){return Promise.reject(t)},s=function(){function t(){r(this,t),this._req=[],this._res=[]}return n(t,[{key:"request",value:function(t){return this._req.push(t),this._req.length-1}},{key:"response",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;return this._res.push({fulfill:t,reject:e}),this._res.length-1}},{key:"resolveRequests",value:function(t){return this._req.reduce(function(t,e){return t=t.then(e)},Promise.resolve(t))}},{key:"resolveResponses",value:function(t){return this._res.reduce(function(t,e){return t=t.then(e.fulfill,e.reject)},Promise.resolve(t))}}]),t}();t.exports=s},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),s=r(7).merge,a={Accept:"application/json, text/plain, */*","Content-Type":"application/json"},u={xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},f=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,t),this._defaults=s(u,{headers:a}),this._config={},this.set(e)}return i(t,[{key:"mergeWithDefaults",value:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=s.apply(void 0,[this._defaults,this._config].concat(e));return"object"===o(n.body)&&n.headers&&"application/json"===n.headers["Content-Type"]&&(n.body=JSON.stringify(n.body)),n}},{key:"set",value:function(t){this._config=s(this._config,t)}},{key:"get",value:function(){return s(this._defaults,this._config)}}]),t}();t.exports=f},function(t,e,r){"use strict";function n(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return i.apply(void 0,[!0].concat(e))}function o(t,e){var r={};return Object.keys(t).forEach(function(n){e.indexOf(n)===-1&&(r[n]=t[n])}),r}var i=r(8).recursive;t.exports={merge:n,skip:o}},function(t,e,r){(function(t){!function(e){function r(t,e){if("object"!==o(t))return e;for(var n in e)"object"===o(t[n])&&"object"===o(e[n])?t[n]=r(t[n],e[n]):t[n]=e[n];return t}function n(t,e,n){var s=n[0],a=n.length;(t||"object"!==o(s))&&(s={});for(var u=0;u<a;++u){var f=n[u],c=o(f);if("object"===c)for(var l in f){var h=t?i.clone(f[l]):f[l];e?s[l]=r(s[l],h):s[l]=h}}return s}function o(t){return{}.toString.call(t).slice(8,-1).toLowerCase()}var i=function(t){return n(t===!0,!1,arguments)},s="merge";i.recursive=function(t){return n(t===!0,!0,arguments)},i.clone=function(t){var e,r,n=t,s=o(t);if("array"===s)for(n=[],r=t.length,e=0;e<r;++e)n[e]=i.clone(t[e]);else if("object"===s){n={};for(e in t)n[e]=i.clone(t[e])}return n},e?t.exports=i:window[s]=i}("object"==typeof t&&t&&"object"==typeof t.exports&&t.exports)}).call(e,r(9)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){"use strict";function r(t,e){return t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,"")}function n(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}function o(t,e){return!t||n(e)?e:r(t,e)}t.exports={format:o,combine:r,isAbsolute:n}},function(t,e){"use strict";function r(t,e){return t[e]().then(function(e){return{headers:t.headers,status:t.status,statusText:t.statusText,data:e}})}function n(t,e){if(!t.ok){var n=new Error(t.statusText);return n.status=t.status,n.statusText=t.statusText,n.headers=t.headers,Promise.reject(n)}if(e)return r(t,e);var o=t.headers.get("Content-Type");return o&&o.includes("application/json")?r(t,"json"):r(t,"text")}t.exports=n}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy90cmFlLm1pbi5qcyIsIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgOTZmMmY0ZGQyNjk1ZjBkOTIzZjIiLCJ3ZWJwYWNrOi8vLy4vbGliL2luZGV4LmpzIiwid2VicGFjazovLy8uL34vd2hhdHdnLWZldGNoL2ZldGNoLmpzIiwid2VicGFjazovLy8uL34vdHJhZS1xdWVyeS9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi90cmFlLXF1ZXJ5L2xpYi9idWlsZC5qcyIsIndlYnBhY2s6Ly8vLi9+L3RyYWUtcXVlcnkvbGliL3BhcnNlLmpzIiwid2VicGFjazovLy8uL2xpYi9taWRkbGV3YXJlLmpzIiwid2VicGFjazovLy8uL2xpYi9jb25maWcuanMiLCJ3ZWJwYWNrOi8vLy4vbGliL3V0aWxzLmpzIiwid2VicGFjazovLy8uL34vbWVyZ2UvbWVyZ2UuanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL21vZHVsZS5qcyIsIndlYnBhY2s6Ly8vLi9saWIvaGVscGVycy91cmwtaGFuZGxlci5qcyIsIndlYnBhY2s6Ly8vLi9saWIvaGVscGVycy9yZXNwb25zZS1oYW5kbGVyLmpzIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsInRoaXMiLCJtb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaW5zdGFsbGVkTW9kdWxlcyIsImlkIiwibG9hZGVkIiwiY2FsbCIsIm0iLCJjIiwicCIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJpIiwibGVuZ3RoIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5Iiwia2V5IiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwicHJvdG90eXBlIiwiYnVpbGRRdWVyeSIsIk1pZGRsZXdhcmUiLCJDb25maWciLCJza2lwIiwidXJsSGFuZGxlciIsInJlc3BvbnNlSGFuZGxlciIsIlRyYWUiLCJjb25maWciLCJhcmd1bWVudHMiLCJ1bmRlZmluZWQiLCJfbWlkZGxld2FyZSIsIl9jb25maWciLCJiYXNlVXJsIiwiX2luaXRNZXRob2RzV2l0aEJvZHkiLCJfaW5pdE1ldGhvZHNXaXRoTm9Cb2R5IiwidmFsdWUiLCJjb25zdHJ1Y3RvciIsIm1pZGRsZXdhcmVzIiwicmVxdWVzdCIsImZ1bGZpbGwiLCJyZWplY3QiLCJyZXNwb25zZSIsImdldCIsInNldCIsIl9iYXNlVXJsIiwibWV0aG9kIiwibWVyZ2VkQ29uZmlnIiwibWVyZ2VXaXRoRGVmYXVsdHMiLCJ1cmwiLCJmb3JtYXQiLCJwYXJhbXMiLCJfZmV0Y2giLCJfdGhpcyIsInJlc29sdmVSZXF1ZXN0cyIsInRoZW4iLCJmZXRjaCIsInJlcyIsImJvZHlUeXBlIiwicmVzb2x2ZVJlc3BvbnNlcyIsIl90aGlzMiIsImZvckVhY2giLCJwYXRoIiwiX3RoaXMzIiwiYm9keSIsInNlbGYiLCJub3JtYWxpemVOYW1lIiwibmFtZSIsIlN0cmluZyIsInRlc3QiLCJ0b0xvd2VyQ2FzZSIsIm5vcm1hbGl6ZVZhbHVlIiwiaXRlcmF0b3JGb3IiLCJpdGVtcyIsIml0ZXJhdG9yIiwibmV4dCIsInNoaWZ0IiwiZG9uZSIsInN1cHBvcnQiLCJpdGVyYWJsZSIsIlN5bWJvbCIsIkhlYWRlcnMiLCJoZWFkZXJzIiwibWFwIiwiYXBwZW5kIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImNvbnN1bWVkIiwiYm9keVVzZWQiLCJQcm9taXNlIiwiZmlsZVJlYWRlclJlYWR5IiwicmVhZGVyIiwicmVzb2x2ZSIsIm9ubG9hZCIsInJlc3VsdCIsIm9uZXJyb3IiLCJlcnJvciIsInJlYWRCbG9iQXNBcnJheUJ1ZmZlciIsImJsb2IiLCJGaWxlUmVhZGVyIiwicmVhZEFzQXJyYXlCdWZmZXIiLCJyZWFkQmxvYkFzVGV4dCIsInJlYWRBc1RleHQiLCJCb2R5IiwiX2luaXRCb2R5IiwiX2JvZHlJbml0IiwiX2JvZHlUZXh0IiwiQmxvYiIsImlzUHJvdG90eXBlT2YiLCJfYm9keUJsb2IiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwiX2JvZHlGb3JtRGF0YSIsInNlYXJjaFBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsInRvU3RyaW5nIiwiYXJyYXlCdWZmZXIiLCJBcnJheUJ1ZmZlciIsIkVycm9yIiwidHlwZSIsInJlamVjdGVkIiwidGV4dCIsImRlY29kZSIsImpzb24iLCJKU09OIiwicGFyc2UiLCJub3JtYWxpemVNZXRob2QiLCJ1cGNhc2VkIiwidG9VcHBlckNhc2UiLCJtZXRob2RzIiwiaW5kZXhPZiIsIlJlcXVlc3QiLCJpbnB1dCIsIm9wdGlvbnMiLCJjcmVkZW50aWFscyIsIm1vZGUiLCJyZWZlcnJlciIsImZvcm0iLCJ0cmltIiwic3BsaXQiLCJieXRlcyIsInJlcGxhY2UiLCJqb2luIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwieGhyIiwiaGVhZCIsInBhaXJzIiwiZ2V0QWxsUmVzcG9uc2VIZWFkZXJzIiwiaGVhZGVyIiwiUmVzcG9uc2UiLCJib2R5SW5pdCIsInN0YXR1cyIsIm9rIiwic3RhdHVzVGV4dCIsImUiLCJsaXN0IiwicHVzaCIsInZhbHVlcyIsImdldEFsbCIsImhhcyIsImhhc093blByb3BlcnR5IiwiY2FsbGJhY2siLCJ0aGlzQXJnIiwia2V5cyIsImVudHJpZXMiLCJjbG9uZSIsInJlZGlyZWN0U3RhdHVzZXMiLCJyZWRpcmVjdCIsIlJhbmdlRXJyb3IiLCJsb2NhdGlvbiIsImluaXQiLCJyZXNwb25zZVVSTCIsImdldFJlc3BvbnNlSGVhZGVyIiwiWE1MSHR0cFJlcXVlc3QiLCJyZXNwb25zZVRleHQiLCJvbnRpbWVvdXQiLCJvcGVuIiwid2l0aENyZWRlbnRpYWxzIiwicmVzcG9uc2VUeXBlIiwic2V0UmVxdWVzdEhlYWRlciIsInNlbmQiLCJwb2x5ZmlsbCIsImJ1aWxkIiwicGFyc2VRdWVyeSIsImVuY29kZVVSSSIsInJlZHVjZSIsImFjYyIsImluY2x1ZGVzIiwiX2RlY29kZVVSSSRzcGxpdCIsImRlY29kZVVSSSIsIl9kZWNvZGVVUkkkc3BsaXQyIiwiX3NsaWNlZFRvQXJyYXkiLCJxdWVyeSIsInBhaXIiLCJfcGFpciRzcGxpdCIsIl9wYWlyJHNwbGl0MiIsInBhcnNlVmFsdWUiLCJudW1iZXIiLCJwYXJzZUZsb2F0IiwiTnVtYmVyIiwiaXNOYU4iLCJzbGljZUl0ZXJhdG9yIiwiYXJyIiwiX2FyciIsIl9uIiwiX2QiLCJfZSIsIl9zIiwiX2kiLCJlcnIiLCJBcnJheSIsImlzQXJyYXkiLCJpZGVudGl0eSIsInJlamVjdGlvbiIsIl9yZXEiLCJfcmVzIiwiZm4iLCJwcm9taXNlIiwidGFzayIsIl90eXBlb2YiLCJvYmoiLCJtZXJnZSIsIkRFRkFVTFRfSEVBREVSUyIsIkFjY2VwdCIsIkNvbnRlbnQtVHlwZSIsIkRFRkFVTFRfQ09ORklHIiwieHNyZkNvb2tpZU5hbWUiLCJ4c3JmSGVhZGVyTmFtZSIsIl9kZWZhdWx0cyIsIl9sZW4iLCJjb25maWdQYXJhbXMiLCJfa2V5IiwiY29uY2F0Iiwic3RyaW5naWZ5IiwibWVyZ2VSZWN1cnNpdmUiLCJza2lwcGVkIiwib2JqS2V5IiwicmVjdXJzaXZlIiwiaXNOb2RlIiwibWVyZ2VfcmVjdXJzaXZlIiwiYmFzZSIsImV4dGVuZCIsInR5cGVPZiIsImFyZ3YiLCJzaXplIiwiaW5kZXgiLCJpdGVtIiwic2l0ZW0iLCJQdWJsaWMiLCJzbGljZSIsInB1YmxpY05hbWUiLCJvdXRwdXQiLCJ3aW5kb3ciLCJ3ZWJwYWNrUG9seWZpbGwiLCJkZXByZWNhdGUiLCJwYXRocyIsImNoaWxkcmVuIiwiY29tYmluZVVSTHMiLCJiYXNlVVJMIiwicmVsYXRpdmVVUkwiLCJpc0Fic29sdXRlVVJMIiwiZm9ybWF0VVJMcyIsImNvbWJpbmUiLCJpc0Fic29sdXRlIiwid3JhcFJlc3BvbnNlIiwiZGF0YSIsImNvbnRlbnRUeXBlIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxFQUFBQyxHQUNBLGdCQUFBQyxVQUFBLGdCQUFBQyxRQUNBQSxPQUFBRCxRQUFBRCxJQUNBLGtCQUFBRyxnQkFBQUMsSUFDQUQsT0FBQSxVQUFBSCxHQUNBLGdCQUFBQyxTQUNBQSxRQUFBLEtBQUFELElBRUFELEVBQUEsS0FBQUMsS0FDQ0ssS0FBQSxXQUNELE1DQWdCLFVBQVVDLEdDTjFCLFFBQUFDLEdBQUFDLEdBR0EsR0FBQUMsRUFBQUQsR0FDQSxNQUFBQyxHQUFBRCxHQUFBUCxPQUdBLElBQUFDLEdBQUFPLEVBQUFELElBQ0FQLFdBQ0FTLEdBQUFGLEVBQ0FHLFFBQUEsRUFVQSxPQU5BTCxHQUFBRSxHQUFBSSxLQUFBVixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBTSxHQUdBTCxFQUFBUyxRQUFBLEVBR0FULEVBQUFELFFBdkJBLEdBQUFRLEtBcUNBLE9BVEFGLEdBQUFNLEVBQUFQLEVBR0FDLEVBQUFPLEVBQUFMLEVBR0FGLEVBQUFRLEVBQUEsR0FHQVIsRUFBQSxLRGdCTSxTQUFTTCxFQUFRRCxFQUFTTSxHQUUvQixZQUlBLFNBQVNTLEdBQWdCQyxFQUFVQyxHQUFlLEtBQU1ELFlBQW9CQyxJQUFnQixLQUFNLElBQUlDLFdBQVUscUNBRmhILEdBQUlDLEdBQWUsV0FBYyxRQUFTQyxHQUFpQkMsRUFBUUMsR0FBUyxJQUFLLEdBQUlDLEdBQUksRUFBR0EsRUFBSUQsRUFBTUUsT0FBUUQsSUFBSyxDQUFFLEdBQUlFLEdBQWFILEVBQU1DLEVBQUlFLEdBQVdDLFdBQWFELEVBQVdDLGFBQWMsRUFBT0QsRUFBV0UsY0FBZSxFQUFVLFNBQVdGLEtBQVlBLEVBQVdHLFVBQVcsR0FBTUMsT0FBT0MsZUFBZVQsRUFBUUksRUFBV00sSUFBS04sSUFBaUIsTUFBTyxVQUFVUixFQUFhZSxFQUFZQyxHQUFpSixNQUE5SEQsSUFBWVosRUFBaUJILEVB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WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShcInRyYWVcIiwgW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1widHJhZVwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJ0cmFlXCJdID0gZmFjdG9yeSgpO1xufSkodGhpcywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFwidHJhZVwiLCBbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJ0cmFlXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcInRyYWVcIl0gPSBmYWN0b3J5KCk7XG59KSh0aGlzLCBmdW5jdGlvbigpIHtcbnJldHVybiAvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fSxcbi8qKioqKiovIFx0XHRcdGlkOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGxvYWRlZDogZmFsc2Vcbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0dmFyIGJ1aWxkUXVlcnkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpLmJ1aWxkUXVlcnk7XG5cdFxuXHR2YXIgTWlkZGxld2FyZSA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdHZhciBDb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHR2YXIgc2tpcCA9IF9fd2VicGFja19yZXF1aXJlX18oNykuc2tpcDtcblx0dmFyIHVybEhhbmRsZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblx0dmFyIHJlc3BvbnNlSGFuZGxlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXHRcblx0dmFyIFRyYWUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgZnVuY3Rpb24gVHJhZSgpIHtcblx0ICAgIHZhciBjb25maWcgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuXHRcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUcmFlKTtcblx0XG5cdCAgICB0aGlzLl9taWRkbGV3YXJlID0gbmV3IE1pZGRsZXdhcmUoKTtcblx0ICAgIHRoaXMuX2NvbmZpZyA9IG5ldyBDb25maWcoc2tpcChjb25maWcsIFsnYmFzZVVybCddKSk7XG5cdFxuXHQgICAgdGhpcy5iYXNlVXJsKGNvbmZpZy5iYXNlVXJsIHx8ICcnKTtcblx0ICAgIHRoaXMuX2luaXRNZXRob2RzV2l0aEJvZHkoKTtcblx0ICAgIHRoaXMuX2luaXRNZXRob2RzV2l0aE5vQm9keSgpO1xuXHQgIH1cblx0XG5cdCAgX2NyZWF0ZUNsYXNzKFRyYWUsIFt7XG5cdCAgICBrZXk6ICdjcmVhdGUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZShjb25maWcpIHtcblx0ICAgICAgcmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKGNvbmZpZyk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAndXNlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiB1c2UoKSB7XG5cdCAgICAgIHZhciBtaWRkbGV3YXJlcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG5cdFxuXHQgICAgICBpZiAobWlkZGxld2FyZXMuY29uZmlnKSB7XG5cdCAgICAgICAgdGhpcy5fbWlkZGxld2FyZS5yZXF1ZXN0KG1pZGRsZXdhcmVzLmNvbmZpZyk7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKG1pZGRsZXdhcmVzLmZ1bGZpbGwgfHwgbWlkZGxld2FyZXMucmVqZWN0KSB7XG5cdCAgICAgICAgdGhpcy5fbWlkZGxld2FyZS5yZXNwb25zZShtaWRkbGV3YXJlcy5mdWxmaWxsLCBtaWRkbGV3YXJlcy5yZWplY3QpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZGVmYXVsdHMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGRlZmF1bHRzKGNvbmZpZykge1xuXHQgICAgICBpZiAodHlwZW9mIGNvbmZpZyA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5fY29uZmlnLmdldCgpO1xuXHQgICAgICB9XG5cdCAgICAgIHRoaXMuX2NvbmZpZy5zZXQoc2tpcChjb25maWcsIFsnYmFzZVVybCddKSk7XG5cdCAgICAgIGNvbmZpZy5iYXNlVXJsICYmIHRoaXMuYmFzZVVybChjb25maWcuYmFzZVVybCk7XG5cdCAgICAgIHJldHVybiB0aGlzLl9jb25maWcuZ2V0KCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnYmFzZVVybCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gYmFzZVVybChfYmFzZVVybCkge1xuXHQgICAgICBpZiAodHlwZW9mIF9iYXNlVXJsID09PSAndW5kZWZpbmVkJykge1xuXHQgICAgICAgIHJldHVybiB0aGlzLl9iYXNlVXJsO1xuXHQgICAgICB9XG5cdCAgICAgIHRoaXMuX2Jhc2VVcmwgPSBfYmFzZVVybDtcblx0ICAgICAgcmV0dXJuIHRoaXMuX2Jhc2VVcmw7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncmVxdWVzdCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVxdWVzdCgpIHtcblx0ICAgICAgdmFyIGNvbmZpZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG5cdFxuXHQgICAgICBjb25maWcubWV0aG9kIHx8IChjb25maWcubWV0aG9kID0gJ2dldCcpO1xuXHQgICAgICB2YXIgbWVyZ2VkQ29uZmlnID0gdGhpcy5fY29uZmlnLm1lcmdlV2l0aERlZmF1bHRzKGNvbmZpZyk7XG5cdCAgICAgIHZhciB1cmwgPSBidWlsZFF1ZXJ5KHVybEhhbmRsZXIuZm9ybWF0KHRoaXMuX2Jhc2VVcmwsIGNvbmZpZy51cmwpLCBjb25maWcucGFyYW1zKTtcblx0XG5cdCAgICAgIHJldHVybiB0aGlzLl9mZXRjaCh1cmwsIG1lcmdlZENvbmZpZyk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnX2ZldGNoJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfZmV0Y2godXJsLCBjb25maWcpIHtcblx0ICAgICAgdmFyIF90aGlzID0gdGhpcztcblx0XG5cdCAgICAgIHJldHVybiB0aGlzLl9taWRkbGV3YXJlLnJlc29sdmVSZXF1ZXN0cyhjb25maWcpLnRoZW4oZnVuY3Rpb24gKGNvbmZpZykge1xuXHQgICAgICAgIHJldHVybiBmZXRjaCh1cmwsIGNvbmZpZyk7XG5cdCAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICAgIHJldHVybiByZXNwb25zZUhhbmRsZXIocmVzLCBjb25maWcuYm9keVR5cGUpO1xuXHQgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgICByZXR1cm4gX3RoaXMuX21pZGRsZXdhcmUucmVzb2x2ZVJlc3BvbnNlcyhyZXMpO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfaW5pdE1ldGhvZHNXaXRoTm9Cb2R5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfaW5pdE1ldGhvZHNXaXRoTm9Cb2R5KCkge1xuXHQgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICAgIFsnZ2V0JywgJ2RlbGV0ZScsICdoZWFkJ10uZm9yRWFjaChmdW5jdGlvbiAobWV0aG9kKSB7XG5cdCAgICAgICAgX3RoaXMyW21ldGhvZF0gPSBmdW5jdGlvbiAocGF0aCkge1xuXHQgICAgICAgICAgdmFyIGNvbmZpZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG5cdFxuXHQgICAgICAgICAgdmFyIG1lcmdlZENvbmZpZyA9IF90aGlzMi5fY29uZmlnLm1lcmdlV2l0aERlZmF1bHRzKGNvbmZpZywgeyBtZXRob2Q6IG1ldGhvZCB9KTtcblx0ICAgICAgICAgIHZhciB1cmwgPSBidWlsZFF1ZXJ5KHVybEhhbmRsZXIuZm9ybWF0KF90aGlzMi5fYmFzZVVybCwgcGF0aCksIGNvbmZpZy5wYXJhbXMpO1xuXHRcblx0ICAgICAgICAgIHJldHVybiBfdGhpczIuX2ZldGNoKHVybCwgbWVyZ2VkQ29uZmlnKTtcblx0ICAgICAgICB9O1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfaW5pdE1ldGhvZHNXaXRoQm9keScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2luaXRNZXRob2RzV2l0aEJvZHkoKSB7XG5cdCAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXHRcblx0ICAgICAgWydwb3N0JywgJ3B1dCcsICdwYXRjaCddLmZvckVhY2goZnVuY3Rpb24gKG1ldGhvZCkge1xuXHQgICAgICAgIF90aGlzM1ttZXRob2RdID0gZnVuY3Rpb24gKHBhdGgsIGJvZHksIGNvbmZpZykge1xuXHQgICAgICAgICAgdmFyIG1lcmdlZENvbmZpZyA9IF90aGlzMy5fY29uZmlnLm1lcmdlV2l0aERlZmF1bHRzKGNvbmZpZywgeyBib2R5OiBib2R5LCBtZXRob2Q6IG1ldGhvZCB9KTtcblx0ICAgICAgICAgIHZhciB1cmwgPSB1cmxIYW5kbGVyLmZvcm1hdChfdGhpczMuX2Jhc2VVcmwsIHBhdGgpO1xuXHRcblx0ICAgICAgICAgIHJldHVybiBfdGhpczMuX2ZldGNoKHVybCwgbWVyZ2VkQ29uZmlnKTtcblx0ICAgICAgICB9O1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdFxuXHQgIHJldHVybiBUcmFlO1xuXHR9KCk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IG5ldyBUcmFlKCk7XG5cbi8qKiovIH0sXG4vKiAxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQoZnVuY3Rpb24oc2VsZikge1xuXHQgICd1c2Ugc3RyaWN0Jztcblx0XG5cdCAgaWYgKHNlbGYuZmV0Y2gpIHtcblx0ICAgIHJldHVyblxuXHQgIH1cblx0XG5cdCAgdmFyIHN1cHBvcnQgPSB7XG5cdCAgICBzZWFyY2hQYXJhbXM6ICdVUkxTZWFyY2hQYXJhbXMnIGluIHNlbGYsXG5cdCAgICBpdGVyYWJsZTogJ1N5bWJvbCcgaW4gc2VsZiAmJiAnaXRlcmF0b3InIGluIFN5bWJvbCxcblx0ICAgIGJsb2I6ICdGaWxlUmVhZGVyJyBpbiBzZWxmICYmICdCbG9iJyBpbiBzZWxmICYmIChmdW5jdGlvbigpIHtcblx0ICAgICAgdHJ5IHtcblx0ICAgICAgICBuZXcgQmxvYigpXG5cdCAgICAgICAgcmV0dXJuIHRydWVcblx0ICAgICAgfSBjYXRjaChlKSB7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlXG5cdCAgICAgIH1cblx0ICAgIH0pKCksXG5cdCAgICBmb3JtRGF0YTogJ0Zvcm1EYXRhJyBpbiBzZWxmLFxuXHQgICAgYXJyYXlCdWZmZXI6ICdBcnJheUJ1ZmZlcicgaW4gc2VsZlxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gbm9ybWFsaXplTmFtZShuYW1lKSB7XG5cdCAgICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7XG5cdCAgICAgIG5hbWUgPSBTdHJpbmcobmFtZSlcblx0ICAgIH1cblx0ICAgIGlmICgvW15hLXowLTlcXC0jJCUmJyorLlxcXl9gfH5dL2kudGVzdChuYW1lKSkge1xuXHQgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGNoYXJhY3RlciBpbiBoZWFkZXIgZmllbGQgbmFtZScpXG5cdCAgICB9XG5cdCAgICByZXR1cm4gbmFtZS50b0xvd2VyQ2FzZSgpXG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBub3JtYWxpemVWYWx1ZSh2YWx1ZSkge1xuXHQgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHtcblx0ICAgICAgdmFsdWUgPSBTdHJpbmcodmFsdWUpXG5cdCAgICB9XG5cdCAgICByZXR1cm4gdmFsdWVcblx0ICB9XG5cdFxuXHQgIC8vIEJ1aWxkIGEgZGVzdHJ1Y3RpdmUgaXRlcmF0b3IgZm9yIHRoZSB2YWx1ZSBsaXN0XG5cdCAgZnVuY3Rpb24gaXRlcmF0b3JGb3IoaXRlbXMpIHtcblx0ICAgIHZhciBpdGVyYXRvciA9IHtcblx0ICAgICAgbmV4dDogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIHZhbHVlID0gaXRlbXMuc2hpZnQoKVxuXHQgICAgICAgIHJldHVybiB7ZG9uZTogdmFsdWUgPT09IHVuZGVmaW5lZCwgdmFsdWU6IHZhbHVlfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHN1cHBvcnQuaXRlcmFibGUpIHtcblx0ICAgICAgaXRlcmF0b3JbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHJldHVybiBpdGVyYXRvclxuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIGl0ZXJhdG9yXG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBIZWFkZXJzKGhlYWRlcnMpIHtcblx0ICAgIHRoaXMubWFwID0ge31cblx0XG5cdCAgICBpZiAoaGVhZGVycyBpbnN0YW5jZW9mIEhlYWRlcnMpIHtcblx0ICAgICAgaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG5cdCAgICAgICAgdGhpcy5hcHBlbmQobmFtZSwgdmFsdWUpXG5cdCAgICAgIH0sIHRoaXMpXG5cdFxuXHQgICAgfSBlbHNlIGlmIChoZWFkZXJzKSB7XG5cdCAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGhlYWRlcnMpLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuXHQgICAgICAgIHRoaXMuYXBwZW5kKG5hbWUsIGhlYWRlcnNbbmFtZV0pXG5cdCAgICAgIH0sIHRoaXMpXG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBIZWFkZXJzLnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuXHQgICAgbmFtZSA9IG5vcm1hbGl6ZU5hbWUobmFtZSlcblx0ICAgIHZhbHVlID0gbm9ybWFsaXplVmFsdWUodmFsdWUpXG5cdCAgICB2YXIgbGlzdCA9IHRoaXMubWFwW25hbWVdXG5cdCAgICBpZiAoIWxpc3QpIHtcblx0ICAgICAgbGlzdCA9IFtdXG5cdCAgICAgIHRoaXMubWFwW25hbWVdID0gbGlzdFxuXHQgICAgfVxuXHQgICAgbGlzdC5wdXNoKHZhbHVlKVxuXHQgIH1cblx0XG5cdCAgSGVhZGVycy5wcm90b3R5cGVbJ2RlbGV0ZSddID0gZnVuY3Rpb24obmFtZSkge1xuXHQgICAgZGVsZXRlIHRoaXMubWFwW25vcm1hbGl6ZU5hbWUobmFtZSldXG5cdCAgfVxuXHRcblx0ICBIZWFkZXJzLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihuYW1lKSB7XG5cdCAgICB2YXIgdmFsdWVzID0gdGhpcy5tYXBbbm9ybWFsaXplTmFtZShuYW1lKV1cblx0ICAgIHJldHVybiB2YWx1ZXMgPyB2YWx1ZXNbMF0gOiBudWxsXG5cdCAgfVxuXHRcblx0ICBIZWFkZXJzLnByb3RvdHlwZS5nZXRBbGwgPSBmdW5jdGlvbihuYW1lKSB7XG5cdCAgICByZXR1cm4gdGhpcy5tYXBbbm9ybWFsaXplTmFtZShuYW1lKV0gfHwgW11cblx0ICB9XG5cdFxuXHQgIEhlYWRlcnMucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uKG5hbWUpIHtcblx0ICAgIHJldHVybiB0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eShub3JtYWxpemVOYW1lKG5hbWUpKVxuXHQgIH1cblx0XG5cdCAgSGVhZGVycy5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcblx0ICAgIHRoaXMubWFwW25vcm1hbGl6ZU5hbWUobmFtZSldID0gW25vcm1hbGl6ZVZhbHVlKHZhbHVlKV1cblx0ICB9XG5cdFxuXHQgIEhlYWRlcnMucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbihjYWxsYmFjaywgdGhpc0FyZykge1xuXHQgICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGhpcy5tYXApLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuXHQgICAgICB0aGlzLm1hcFtuYW1lXS5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzQXJnLCB2YWx1ZSwgbmFtZSwgdGhpcylcblx0ICAgICAgfSwgdGhpcylcblx0ICAgIH0sIHRoaXMpXG5cdCAgfVxuXHRcblx0ICBIZWFkZXJzLnByb3RvdHlwZS5rZXlzID0gZnVuY3Rpb24oKSB7XG5cdCAgICB2YXIgaXRlbXMgPSBbXVxuXHQgICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7IGl0ZW1zLnB1c2gobmFtZSkgfSlcblx0ICAgIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcblx0ICB9XG5cdFxuXHQgIEhlYWRlcnMucHJvdG90eXBlLnZhbHVlcyA9IGZ1bmN0aW9uKCkge1xuXHQgICAgdmFyIGl0ZW1zID0gW11cblx0ICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkgeyBpdGVtcy5wdXNoKHZhbHVlKSB9KVxuXHQgICAgcmV0dXJuIGl0ZXJhdG9yRm9yKGl0ZW1zKVxuXHQgIH1cblx0XG5cdCAgSGVhZGVycy5wcm90b3R5cGUuZW50cmllcyA9IGZ1bmN0aW9uKCkge1xuXHQgICAgdmFyIGl0ZW1zID0gW11cblx0ICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkgeyBpdGVtcy5wdXNoKFtuYW1lLCB2YWx1ZV0pIH0pXG5cdCAgICByZXR1cm4gaXRlcmF0b3JGb3IoaXRlbXMpXG5cdCAgfVxuXHRcblx0ICBpZiAoc3VwcG9ydC5pdGVyYWJsZSkge1xuXHQgICAgSGVhZGVycy5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IEhlYWRlcnMucHJvdG90eXBlLmVudHJpZXNcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGNvbnN1bWVkKGJvZHkpIHtcblx0ICAgIGlmIChib2R5LmJvZHlVc2VkKSB7XG5cdCAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgVHlwZUVycm9yKCdBbHJlYWR5IHJlYWQnKSlcblx0ICAgIH1cblx0ICAgIGJvZHkuYm9keVVzZWQgPSB0cnVlXG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBmaWxlUmVhZGVyUmVhZHkocmVhZGVyKSB7XG5cdCAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICByZXNvbHZlKHJlYWRlci5yZXN1bHQpXG5cdCAgICAgIH1cblx0ICAgICAgcmVhZGVyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICByZWplY3QocmVhZGVyLmVycm9yKVxuXHQgICAgICB9XG5cdCAgICB9KVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gcmVhZEJsb2JBc0FycmF5QnVmZmVyKGJsb2IpIHtcblx0ICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpXG5cdCAgICByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoYmxvYilcblx0ICAgIHJldHVybiBmaWxlUmVhZGVyUmVhZHkocmVhZGVyKVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gcmVhZEJsb2JBc1RleHQoYmxvYikge1xuXHQgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKClcblx0ICAgIHJlYWRlci5yZWFkQXNUZXh0KGJsb2IpXG5cdCAgICByZXR1cm4gZmlsZVJlYWRlclJlYWR5KHJlYWRlcilcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIEJvZHkoKSB7XG5cdCAgICB0aGlzLmJvZHlVc2VkID0gZmFsc2Vcblx0XG5cdCAgICB0aGlzLl9pbml0Qm9keSA9IGZ1bmN0aW9uKGJvZHkpIHtcblx0ICAgICAgdGhpcy5fYm9keUluaXQgPSBib2R5XG5cdCAgICAgIGlmICh0eXBlb2YgYm9keSA9PT0gJ3N0cmluZycpIHtcblx0ICAgICAgICB0aGlzLl9ib2R5VGV4dCA9IGJvZHlcblx0ICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LmJsb2IgJiYgQmxvYi5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuXHQgICAgICAgIHRoaXMuX2JvZHlCbG9iID0gYm9keVxuXHQgICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuZm9ybURhdGEgJiYgRm9ybURhdGEucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcblx0ICAgICAgICB0aGlzLl9ib2R5Rm9ybURhdGEgPSBib2R5XG5cdCAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5zZWFyY2hQYXJhbXMgJiYgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG5cdCAgICAgICAgdGhpcy5fYm9keVRleHQgPSBib2R5LnRvU3RyaW5nKClcblx0ICAgICAgfSBlbHNlIGlmICghYm9keSkge1xuXHQgICAgICAgIHRoaXMuX2JvZHlUZXh0ID0gJydcblx0ICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LmFycmF5QnVmZmVyICYmIEFycmF5QnVmZmVyLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG5cdCAgICAgICAgLy8gT25seSBzdXBwb3J0IEFycmF5QnVmZmVycyBmb3IgUE9TVCBtZXRob2QuXG5cdCAgICAgICAgLy8gUmVjZWl2aW5nIEFycmF5QnVmZmVycyBoYXBwZW5zIHZpYSBCbG9icywgaW5zdGVhZC5cblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Vuc3VwcG9ydGVkIEJvZHlJbml0IHR5cGUnKVxuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAoIXRoaXMuaGVhZGVycy5nZXQoJ2NvbnRlbnQtdHlwZScpKSB7XG5cdCAgICAgICAgaWYgKHR5cGVvZiBib2R5ID09PSAnc3RyaW5nJykge1xuXHQgICAgICAgICAgdGhpcy5oZWFkZXJzLnNldCgnY29udGVudC10eXBlJywgJ3RleHQvcGxhaW47Y2hhcnNldD1VVEYtOCcpXG5cdCAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5QmxvYiAmJiB0aGlzLl9ib2R5QmxvYi50eXBlKSB7XG5cdCAgICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCB0aGlzLl9ib2R5QmxvYi50eXBlKVxuXHQgICAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5zZWFyY2hQYXJhbXMgJiYgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG5cdCAgICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9VVRGLTgnKVxuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGlmIChzdXBwb3J0LmJsb2IpIHtcblx0ICAgICAgdGhpcy5ibG9iID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIHJlamVjdGVkID0gY29uc3VtZWQodGhpcylcblx0ICAgICAgICBpZiAocmVqZWN0ZWQpIHtcblx0ICAgICAgICAgIHJldHVybiByZWplY3RlZFxuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKHRoaXMuX2JvZHlCbG9iKSB7XG5cdCAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlCbG9iKVxuXHQgICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUZvcm1EYXRhKSB7XG5cdCAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkIG5vdCByZWFkIEZvcm1EYXRhIGJvZHkgYXMgYmxvYicpXG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEJsb2IoW3RoaXMuX2JvZHlUZXh0XSkpXG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdFxuXHQgICAgICB0aGlzLmFycmF5QnVmZmVyID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuYmxvYigpLnRoZW4ocmVhZEJsb2JBc0FycmF5QnVmZmVyKVxuXHQgICAgICB9XG5cdFxuXHQgICAgICB0aGlzLnRleHQgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgcmVqZWN0ZWQgPSBjb25zdW1lZCh0aGlzKVxuXHQgICAgICAgIGlmIChyZWplY3RlZCkge1xuXHQgICAgICAgICAgcmV0dXJuIHJlamVjdGVkXG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAodGhpcy5fYm9keUJsb2IpIHtcblx0ICAgICAgICAgIHJldHVybiByZWFkQmxvYkFzVGV4dCh0aGlzLl9ib2R5QmxvYilcblx0ICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlGb3JtRGF0YSkge1xuXHQgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgcmVhZCBGb3JtRGF0YSBib2R5IGFzIHRleHQnKVxuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlUZXh0KVxuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdGhpcy50ZXh0ID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIHJlamVjdGVkID0gY29uc3VtZWQodGhpcylcblx0ICAgICAgICByZXR1cm4gcmVqZWN0ZWQgPyByZWplY3RlZCA6IFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5VGV4dClcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGlmIChzdXBwb3J0LmZvcm1EYXRhKSB7XG5cdCAgICAgIHRoaXMuZm9ybURhdGEgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy50ZXh0KCkudGhlbihkZWNvZGUpXG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICB0aGlzLmpzb24gPSBmdW5jdGlvbigpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMudGV4dCgpLnRoZW4oSlNPTi5wYXJzZSlcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gdGhpc1xuXHQgIH1cblx0XG5cdCAgLy8gSFRUUCBtZXRob2RzIHdob3NlIGNhcGl0YWxpemF0aW9uIHNob3VsZCBiZSBub3JtYWxpemVkXG5cdCAgdmFyIG1ldGhvZHMgPSBbJ0RFTEVURScsICdHRVQnLCAnSEVBRCcsICdPUFRJT05TJywgJ1BPU1QnLCAnUFVUJ11cblx0XG5cdCAgZnVuY3Rpb24gbm9ybWFsaXplTWV0aG9kKG1ldGhvZCkge1xuXHQgICAgdmFyIHVwY2FzZWQgPSBtZXRob2QudG9VcHBlckNhc2UoKVxuXHQgICAgcmV0dXJuIChtZXRob2RzLmluZGV4T2YodXBjYXNlZCkgPiAtMSkgPyB1cGNhc2VkIDogbWV0aG9kXG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBSZXF1ZXN0KGlucHV0LCBvcHRpb25zKSB7XG5cdCAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fVxuXHQgICAgdmFyIGJvZHkgPSBvcHRpb25zLmJvZHlcblx0ICAgIGlmIChSZXF1ZXN0LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGlucHV0KSkge1xuXHQgICAgICBpZiAoaW5wdXQuYm9keVVzZWQpIHtcblx0ICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBbHJlYWR5IHJlYWQnKVxuXHQgICAgICB9XG5cdCAgICAgIHRoaXMudXJsID0gaW5wdXQudXJsXG5cdCAgICAgIHRoaXMuY3JlZGVudGlhbHMgPSBpbnB1dC5jcmVkZW50aWFsc1xuXHQgICAgICBpZiAoIW9wdGlvbnMuaGVhZGVycykge1xuXHQgICAgICAgIHRoaXMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKGlucHV0LmhlYWRlcnMpXG5cdCAgICAgIH1cblx0ICAgICAgdGhpcy5tZXRob2QgPSBpbnB1dC5tZXRob2Rcblx0ICAgICAgdGhpcy5tb2RlID0gaW5wdXQubW9kZVxuXHQgICAgICBpZiAoIWJvZHkpIHtcblx0ICAgICAgICBib2R5ID0gaW5wdXQuX2JvZHlJbml0XG5cdCAgICAgICAgaW5wdXQuYm9keVVzZWQgPSB0cnVlXG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHRoaXMudXJsID0gaW5wdXRcblx0ICAgIH1cblx0XG5cdCAgICB0aGlzLmNyZWRlbnRpYWxzID0gb3B0aW9ucy5jcmVkZW50aWFscyB8fCB0aGlzLmNyZWRlbnRpYWxzIHx8ICdvbWl0J1xuXHQgICAgaWYgKG9wdGlvbnMuaGVhZGVycyB8fCAhdGhpcy5oZWFkZXJzKSB7XG5cdCAgICAgIHRoaXMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKG9wdGlvbnMuaGVhZGVycylcblx0ICAgIH1cblx0ICAgIHRoaXMubWV0aG9kID0gbm9ybWFsaXplTWV0aG9kKG9wdGlvbnMubWV0aG9kIHx8IHRoaXMubWV0aG9kIHx8ICdHRVQnKVxuXHQgICAgdGhpcy5tb2RlID0gb3B0aW9ucy5tb2RlIHx8IHRoaXMubW9kZSB8fCBudWxsXG5cdCAgICB0aGlzLnJlZmVycmVyID0gbnVsbFxuXHRcblx0ICAgIGlmICgodGhpcy5tZXRob2QgPT09ICdHRVQnIHx8IHRoaXMubWV0aG9kID09PSAnSEVBRCcpICYmIGJvZHkpIHtcblx0ICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQm9keSBub3QgYWxsb3dlZCBmb3IgR0VUIG9yIEhFQUQgcmVxdWVzdHMnKVxuXHQgICAgfVxuXHQgICAgdGhpcy5faW5pdEJvZHkoYm9keSlcblx0ICB9XG5cdFxuXHQgIFJlcXVlc3QucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4gbmV3IFJlcXVlc3QodGhpcylcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGRlY29kZShib2R5KSB7XG5cdCAgICB2YXIgZm9ybSA9IG5ldyBGb3JtRGF0YSgpXG5cdCAgICBib2R5LnRyaW0oKS5zcGxpdCgnJicpLmZvckVhY2goZnVuY3Rpb24oYnl0ZXMpIHtcblx0ICAgICAgaWYgKGJ5dGVzKSB7XG5cdCAgICAgICAgdmFyIHNwbGl0ID0gYnl0ZXMuc3BsaXQoJz0nKVxuXHQgICAgICAgIHZhciBuYW1lID0gc3BsaXQuc2hpZnQoKS5yZXBsYWNlKC9cXCsvZywgJyAnKVxuXHQgICAgICAgIHZhciB2YWx1ZSA9IHNwbGl0LmpvaW4oJz0nKS5yZXBsYWNlKC9cXCsvZywgJyAnKVxuXHQgICAgICAgIGZvcm0uYXBwZW5kKGRlY29kZVVSSUNvbXBvbmVudChuYW1lKSwgZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKSlcblx0ICAgICAgfVxuXHQgICAgfSlcblx0ICAgIHJldHVybiBmb3JtXG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBoZWFkZXJzKHhocikge1xuXHQgICAgdmFyIGhlYWQgPSBuZXcgSGVhZGVycygpXG5cdCAgICB2YXIgcGFpcnMgPSAoeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpIHx8ICcnKS50cmltKCkuc3BsaXQoJ1xcbicpXG5cdCAgICBwYWlycy5mb3JFYWNoKGZ1bmN0aW9uKGhlYWRlcikge1xuXHQgICAgICB2YXIgc3BsaXQgPSBoZWFkZXIudHJpbSgpLnNwbGl0KCc6Jylcblx0ICAgICAgdmFyIGtleSA9IHNwbGl0LnNoaWZ0KCkudHJpbSgpXG5cdCAgICAgIHZhciB2YWx1ZSA9IHNwbGl0LmpvaW4oJzonKS50cmltKClcblx0ICAgICAgaGVhZC5hcHBlbmQoa2V5LCB2YWx1ZSlcblx0ICAgIH0pXG5cdCAgICByZXR1cm4gaGVhZFxuXHQgIH1cblx0XG5cdCAgQm9keS5jYWxsKFJlcXVlc3QucHJvdG90eXBlKVxuXHRcblx0ICBmdW5jdGlvbiBSZXNwb25zZShib2R5SW5pdCwgb3B0aW9ucykge1xuXHQgICAgaWYgKCFvcHRpb25zKSB7XG5cdCAgICAgIG9wdGlvbnMgPSB7fVxuXHQgICAgfVxuXHRcblx0ICAgIHRoaXMudHlwZSA9ICdkZWZhdWx0J1xuXHQgICAgdGhpcy5zdGF0dXMgPSBvcHRpb25zLnN0YXR1c1xuXHQgICAgdGhpcy5vayA9IHRoaXMuc3RhdHVzID49IDIwMCAmJiB0aGlzLnN0YXR1cyA8IDMwMFxuXHQgICAgdGhpcy5zdGF0dXNUZXh0ID0gb3B0aW9ucy5zdGF0dXNUZXh0XG5cdCAgICB0aGlzLmhlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnMgaW5zdGFuY2VvZiBIZWFkZXJzID8gb3B0aW9ucy5oZWFkZXJzIDogbmV3IEhlYWRlcnMob3B0aW9ucy5oZWFkZXJzKVxuXHQgICAgdGhpcy51cmwgPSBvcHRpb25zLnVybCB8fCAnJ1xuXHQgICAgdGhpcy5faW5pdEJvZHkoYm9keUluaXQpXG5cdCAgfVxuXHRcblx0ICBCb2R5LmNhbGwoUmVzcG9uc2UucHJvdG90eXBlKVxuXHRcblx0ICBSZXNwb25zZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcblx0ICAgIHJldHVybiBuZXcgUmVzcG9uc2UodGhpcy5fYm9keUluaXQsIHtcblx0ICAgICAgc3RhdHVzOiB0aGlzLnN0YXR1cyxcblx0ICAgICAgc3RhdHVzVGV4dDogdGhpcy5zdGF0dXNUZXh0LFxuXHQgICAgICBoZWFkZXJzOiBuZXcgSGVhZGVycyh0aGlzLmhlYWRlcnMpLFxuXHQgICAgICB1cmw6IHRoaXMudXJsXG5cdCAgICB9KVxuXHQgIH1cblx0XG5cdCAgUmVzcG9uc2UuZXJyb3IgPSBmdW5jdGlvbigpIHtcblx0ICAgIHZhciByZXNwb25zZSA9IG5ldyBSZXNwb25zZShudWxsLCB7c3RhdHVzOiAwLCBzdGF0dXNUZXh0OiAnJ30pXG5cdCAgICByZXNwb25zZS50eXBlID0gJ2Vycm9yJ1xuXHQgICAgcmV0dXJuIHJlc3BvbnNlXG5cdCAgfVxuXHRcblx0ICB2YXIgcmVkaXJlY3RTdGF0dXNlcyA9IFszMDEsIDMwMiwgMzAzLCAzMDcsIDMwOF1cblx0XG5cdCAgUmVzcG9uc2UucmVkaXJlY3QgPSBmdW5jdGlvbih1cmwsIHN0YXR1cykge1xuXHQgICAgaWYgKHJlZGlyZWN0U3RhdHVzZXMuaW5kZXhPZihzdGF0dXMpID09PSAtMSkge1xuXHQgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW52YWxpZCBzdGF0dXMgY29kZScpXG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIG5ldyBSZXNwb25zZShudWxsLCB7c3RhdHVzOiBzdGF0dXMsIGhlYWRlcnM6IHtsb2NhdGlvbjogdXJsfX0pXG5cdCAgfVxuXHRcblx0ICBzZWxmLkhlYWRlcnMgPSBIZWFkZXJzXG5cdCAgc2VsZi5SZXF1ZXN0ID0gUmVxdWVzdFxuXHQgIHNlbGYuUmVzcG9uc2UgPSBSZXNwb25zZVxuXHRcblx0ICBzZWxmLmZldGNoID0gZnVuY3Rpb24oaW5wdXQsIGluaXQpIHtcblx0ICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgdmFyIHJlcXVlc3Rcblx0ICAgICAgaWYgKFJlcXVlc3QucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoaW5wdXQpICYmICFpbml0KSB7XG5cdCAgICAgICAgcmVxdWVzdCA9IGlucHV0XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KGlucHV0LCBpbml0KVxuXHQgICAgICB9XG5cdFxuXHQgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KClcblx0XG5cdCAgICAgIGZ1bmN0aW9uIHJlc3BvbnNlVVJMKCkge1xuXHQgICAgICAgIGlmICgncmVzcG9uc2VVUkwnIGluIHhocikge1xuXHQgICAgICAgICAgcmV0dXJuIHhoci5yZXNwb25zZVVSTFxuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gQXZvaWQgc2VjdXJpdHkgd2FybmluZ3Mgb24gZ2V0UmVzcG9uc2VIZWFkZXIgd2hlbiBub3QgYWxsb3dlZCBieSBDT1JTXG5cdCAgICAgICAgaWYgKC9eWC1SZXF1ZXN0LVVSTDovbS50ZXN0KHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkpIHtcblx0ICAgICAgICAgIHJldHVybiB4aHIuZ2V0UmVzcG9uc2VIZWFkZXIoJ1gtUmVxdWVzdC1VUkwnKVxuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuXG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgb3B0aW9ucyA9IHtcblx0ICAgICAgICAgIHN0YXR1czogeGhyLnN0YXR1cyxcblx0ICAgICAgICAgIHN0YXR1c1RleHQ6IHhoci5zdGF0dXNUZXh0LFxuXHQgICAgICAgICAgaGVhZGVyczogaGVhZGVycyh4aHIpLFxuXHQgICAgICAgICAgdXJsOiByZXNwb25zZVVSTCgpXG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBib2R5ID0gJ3Jlc3BvbnNlJyBpbiB4aHIgPyB4aHIucmVzcG9uc2UgOiB4aHIucmVzcG9uc2VUZXh0XG5cdCAgICAgICAgcmVzb2x2ZShuZXcgUmVzcG9uc2UoYm9keSwgb3B0aW9ucykpXG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ05ldHdvcmsgcmVxdWVzdCBmYWlsZWQnKSlcblx0ICAgICAgfVxuXHRcblx0ICAgICAgeGhyLm9udGltZW91dCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHJlamVjdChuZXcgVHlwZUVycm9yKCdOZXR3b3JrIHJlcXVlc3QgZmFpbGVkJykpXG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHhoci5vcGVuKHJlcXVlc3QubWV0aG9kLCByZXF1ZXN0LnVybCwgdHJ1ZSlcblx0XG5cdCAgICAgIGlmIChyZXF1ZXN0LmNyZWRlbnRpYWxzID09PSAnaW5jbHVkZScpIHtcblx0ICAgICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gdHJ1ZVxuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAoJ3Jlc3BvbnNlVHlwZScgaW4geGhyICYmIHN1cHBvcnQuYmxvYikge1xuXHQgICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnYmxvYidcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmVxdWVzdC5oZWFkZXJzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcblx0ICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihuYW1lLCB2YWx1ZSlcblx0ICAgICAgfSlcblx0XG5cdCAgICAgIHhoci5zZW5kKHR5cGVvZiByZXF1ZXN0Ll9ib2R5SW5pdCA9PT0gJ3VuZGVmaW5lZCcgPyBudWxsIDogcmVxdWVzdC5fYm9keUluaXQpXG5cdCAgICB9KVxuXHQgIH1cblx0ICBzZWxmLmZldGNoLnBvbHlmaWxsID0gdHJ1ZVxuXHR9KSh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDogdGhpcyk7XG5cblxuLyoqKi8gfSxcbi8qIDIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBidWlsZCA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdHZhciBwYXJzZSA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcblx0ICBidWlsZFF1ZXJ5OiBidWlsZCxcblx0ICBwYXJzZVF1ZXJ5OiBwYXJzZVxuXHR9O1xuXG4vKioqLyB9LFxuLyogMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0LyoqXG5cdCAqIEJ1aWxkIHF1ZXJ5IHBhcmFtcyBzdHJpbmdzIGZyb20gdGhlIGtleXMgYW5kIHZhbHVlcyBvZiBhbiBvYmplY3Rcblx0ICpcblx0ICogQHBhcmFtIHtTdHJpbmd9IHVybCBUaGUgdXJsIHRvIGFwcGVuZCB0aGUgcXVlcnkgdG9cblx0ICogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyBUaGUgb2JqZWN0IHRvIGJ1aWxkIHRoZSBxdWVyeSBmcm9tXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBxdWVyeSBzdHJpbmdcblx0ICovXG5cdFxuXHRmdW5jdGlvbiBidWlsZFF1ZXJ5KCkge1xuXHQgIHZhciB1cmwgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICcnO1xuXHQgIHZhciBwYXJhbXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXHRcblx0ICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHBhcmFtcyk7XG5cdFxuXHQgIGlmIChrZXlzLmxlbmd0aCA9PT0gMCkge1xuXHQgICAgcmV0dXJuIHVybDtcblx0ICB9XG5cdFxuXHQgIHJldHVybiB1cmwgKyBlbmNvZGVVUkkoa2V5cy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywga2V5KSB7XG5cdCAgICByZXR1cm4gYWNjICsgJyYnICsga2V5ICsgJz0nICsgKHBhcmFtc1trZXldIHx8ICcnKTtcblx0ICB9LCAnPycpLnJlcGxhY2UoJz8mJywgJz8nKSk7XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gYnVpbGRRdWVyeTtcblxuLyoqKi8gfSxcbi8qIDQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBfc2xpY2VkVG9BcnJheSA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gc2xpY2VJdGVyYXRvcihhcnIsIGkpIHsgdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfZSA9IHVuZGVmaW5lZDsgdHJ5IHsgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0pIF9pW1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfSByZXR1cm4gZnVuY3Rpb24gKGFyciwgaSkgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IHJldHVybiBhcnI7IH0gZWxzZSBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSB7IHJldHVybiBzbGljZUl0ZXJhdG9yKGFyciwgaSk7IH0gZWxzZSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpOyB9IH07IH0oKTtcblx0XG5cdC8qKlxuXHQgKiBQYXJzZXMgYSB1cmwgdG8gZ2V0IHRoZSBxdWVyeSBwYXJhbXNcblx0ICpcblx0ICogQHBhcmFtIHtTdHJpbmd9IHVybCBUaGUgdXJsIHRvIHBhcnNlXG5cdCAqIEByZXR1cm5zIHtPYmplY3R9IEEgbWFwIG9mIHRoZSBxdWVyeSBrZXlzICYgdmFsdWVzXG5cdCAqL1xuXHRmdW5jdGlvbiBwYXJzZVF1ZXJ5KCkge1xuXHQgIHZhciB1cmwgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICcnO1xuXHRcblx0ICBpZiAoIXVybC5pbmNsdWRlcygnPycpKSB7XG5cdCAgICByZXR1cm4ge307XG5cdCAgfVxuXHQgIHZhciBwYXJhbXMgPSB7fTtcblx0XG5cdCAgdmFyIF9kZWNvZGVVUkkkc3BsaXQgPSBkZWNvZGVVUkkodXJsKS5zcGxpdCgnPycpLFxuXHQgICAgICBfZGVjb2RlVVJJJHNwbGl0MiA9IF9zbGljZWRUb0FycmF5KF9kZWNvZGVVUkkkc3BsaXQsIDIpLFxuXHQgICAgICBxdWVyeSA9IF9kZWNvZGVVUkkkc3BsaXQyWzFdO1xuXHRcblx0ICB2YXIgcGFpcnMgPSBxdWVyeS5zcGxpdCgnJicpO1xuXHRcblx0ICBwYWlycy5mb3JFYWNoKGZ1bmN0aW9uIChwYWlyKSB7XG5cdCAgICB2YXIgX3BhaXIkc3BsaXQgPSBwYWlyLnNwbGl0KCc9JyksXG5cdCAgICAgICAgX3BhaXIkc3BsaXQyID0gX3NsaWNlZFRvQXJyYXkoX3BhaXIkc3BsaXQsIDIpLFxuXHQgICAgICAgIGtleSA9IF9wYWlyJHNwbGl0MlswXSxcblx0ICAgICAgICB2YWx1ZSA9IF9wYWlyJHNwbGl0MlsxXTtcblx0XG5cdCAgICBwYXJhbXNba2V5XSA9IHBhcnNlVmFsdWUodmFsdWUpO1xuXHQgIH0pO1xuXHQgIHJldHVybiBwYXJhbXM7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHBhcnNlVmFsdWUodmFsdWUpIHtcblx0ICBpZiAodmFsdWUgPT09ICcnKSB7XG5cdCAgICByZXR1cm4gdW5kZWZpbmVkO1xuXHQgIH1cblx0ICBpZiAodmFsdWUgPT09ICd0cnVlJykge1xuXHQgICAgcmV0dXJuIHRydWU7XG5cdCAgfVxuXHQgIGlmICh2YWx1ZSA9PT0gJ2ZhbHNlJykge1xuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHQgIH1cblx0ICB2YXIgbnVtYmVyID0gcGFyc2VGbG9hdCh2YWx1ZSk7XG5cdCAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuXHQgIGlmIChOdW1iZXIuaXNOYU4obnVtYmVyKSB8fCBudW1iZXIgIT0gdmFsdWUpIHtcblx0ICAgIHJldHVybiB2YWx1ZTtcblx0ICB9XG5cdCAgcmV0dXJuIG51bWJlcjtcblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBwYXJzZVF1ZXJ5O1xuXG4vKioqLyB9LFxuLyogNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdHZhciBpZGVudGl0eSA9IGZ1bmN0aW9uIGlkZW50aXR5KHJlc3BvbnNlKSB7XG5cdCAgcmV0dXJuIHJlc3BvbnNlO1xuXHR9O1xuXHR2YXIgcmVqZWN0aW9uID0gZnVuY3Rpb24gcmVqZWN0aW9uKGVycikge1xuXHQgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnIpO1xuXHR9O1xuXHRcblx0dmFyIE1pZGRsZXdhcmUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgZnVuY3Rpb24gTWlkZGxld2FyZSgpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNaWRkbGV3YXJlKTtcblx0XG5cdCAgICB0aGlzLl9yZXEgPSBbXTtcblx0ICAgIHRoaXMuX3JlcyA9IFtdO1xuXHQgIH1cblx0XG5cdCAgX2NyZWF0ZUNsYXNzKE1pZGRsZXdhcmUsIFt7XG5cdCAgICBrZXk6IFwicmVxdWVzdFwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlcXVlc3QoZm4pIHtcblx0ICAgICAgdGhpcy5fcmVxLnB1c2goZm4pO1xuXHQgICAgICByZXR1cm4gdGhpcy5fcmVxLmxlbmd0aCAtIDE7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcInJlc3BvbnNlXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVzcG9uc2UoKSB7XG5cdCAgICAgIHZhciBmdWxmaWxsID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBpZGVudGl0eTtcblx0ICAgICAgdmFyIHJlamVjdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogcmVqZWN0aW9uO1xuXHRcblx0ICAgICAgdGhpcy5fcmVzLnB1c2goeyBmdWxmaWxsOiBmdWxmaWxsLCByZWplY3Q6IHJlamVjdCB9KTtcblx0ICAgICAgcmV0dXJuIHRoaXMuX3Jlcy5sZW5ndGggLSAxO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJyZXNvbHZlUmVxdWVzdHNcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZXNvbHZlUmVxdWVzdHMoY29uZmlnKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLl9yZXEucmVkdWNlKGZ1bmN0aW9uIChwcm9taXNlLCB0YXNrKSB7XG5cdCAgICAgICAgcHJvbWlzZSA9IHByb21pc2UudGhlbih0YXNrKTtcblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgICAgfSwgUHJvbWlzZS5yZXNvbHZlKGNvbmZpZykpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJyZXNvbHZlUmVzcG9uc2VzXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVzb2x2ZVJlc3BvbnNlcyhyZXNwb25zZSkge1xuXHQgICAgICByZXR1cm4gdGhpcy5fcmVzLnJlZHVjZShmdW5jdGlvbiAocHJvbWlzZSwgdGFzaykge1xuXHQgICAgICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4odGFzay5mdWxmaWxsLCB0YXNrLnJlamVjdCk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICAgIH0sIFByb21pc2UucmVzb2x2ZShyZXNwb25zZSkpO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0XG5cdCAgcmV0dXJuIE1pZGRsZXdhcmU7XG5cdH0oKTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gTWlkZGxld2FyZTtcblxuLyoqKi8gfSxcbi8qIDYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0dmFyIG1lcmdlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KS5tZXJnZTtcblx0XG5cdHZhciBERUZBVUxUX0hFQURFUlMgPSB7XG5cdCAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCAqLyonLCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHF1b3RlLXByb3BzXG5cdCAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuXHR9O1xuXHRcblx0dmFyIERFRkFVTFRfQ09ORklHID0ge1xuXHQgIHhzcmZDb29raWVOYW1lOiAnWFNSRi1UT0tFTicsXG5cdCAgeHNyZkhlYWRlck5hbWU6ICdYLVhTUkYtVE9LRU4nXG5cdH07XG5cdFxuXHR2YXIgQ29uZmlnID0gZnVuY3Rpb24gKCkge1xuXHQgIGZ1bmN0aW9uIENvbmZpZygpIHtcblx0ICAgIHZhciBjb25maWcgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuXHRcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb25maWcpO1xuXHRcblx0ICAgIHRoaXMuX2RlZmF1bHRzID0gbWVyZ2UoREVGQVVMVF9DT05GSUcsIHsgaGVhZGVyczogREVGQVVMVF9IRUFERVJTIH0pO1xuXHQgICAgdGhpcy5fY29uZmlnID0ge307XG5cdFxuXHQgICAgdGhpcy5zZXQoY29uZmlnKTtcblx0ICB9XG5cdFxuXHQgIF9jcmVhdGVDbGFzcyhDb25maWcsIFt7XG5cdCAgICBrZXk6ICdtZXJnZVdpdGhEZWZhdWx0cycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gbWVyZ2VXaXRoRGVmYXVsdHMoKSB7XG5cdCAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBjb25maWdQYXJhbXMgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0ICAgICAgICBjb25maWdQYXJhbXNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHZhciBjb25maWcgPSBtZXJnZS5hcHBseSh1bmRlZmluZWQsIFt0aGlzLl9kZWZhdWx0cywgdGhpcy5fY29uZmlnXS5jb25jYXQoY29uZmlnUGFyYW1zKSk7XG5cdCAgICAgIGlmIChfdHlwZW9mKGNvbmZpZy5ib2R5KSA9PT0gJ29iamVjdCcgJiYgY29uZmlnLmhlYWRlcnMgJiYgY29uZmlnLmhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddID09PSAnYXBwbGljYXRpb24vanNvbicpIHtcblx0ICAgICAgICBjb25maWcuYm9keSA9IEpTT04uc3RyaW5naWZ5KGNvbmZpZy5ib2R5KTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gY29uZmlnO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NldCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2V0KGNvbmZpZykge1xuXHQgICAgICB0aGlzLl9jb25maWcgPSBtZXJnZSh0aGlzLl9jb25maWcsIGNvbmZpZyk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgIHJldHVybiBtZXJnZSh0aGlzLl9kZWZhdWx0cywgdGhpcy5fY29uZmlnKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdFxuXHQgIHJldHVybiBDb25maWc7XG5cdH0oKTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gQ29uZmlnO1xuXG4vKioqLyB9LFxuLyogNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIG1lcmdlUmVjdXJzaXZlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KS5yZWN1cnNpdmU7XG5cdFxuXHQvKipcblx0ICogUmVjdXJzaXZlbHkgbWVyZ2Ugb2JqZWN0c1xuXHQgKlxuXHQgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0cyB0byBtZXJnZVxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IHRoZSBtZXJnZWQgb2JqZWN0c1xuXHQgKi9cblx0ZnVuY3Rpb24gbWVyZ2UoKSB7XG5cdCAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHBhcmFtcyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHQgICAgcGFyYW1zW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIG1lcmdlUmVjdXJzaXZlLmFwcGx5KHVuZGVmaW5lZCwgW3RydWVdLmNvbmNhdChwYXJhbXMpKTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIFJldHVybnMgYW4gb2JqZWN0IHdpdGggdGhlIHNraXBwZWQgcHJvcGVydGllc1xuXHQgKlxuXHQgKiBAcGFyYW0ge09iamVjdH0gb2JqIHRoZSBvYmplY3QgdG8gc2tpcCBwcm9wZXJ0aWVzIGZyb21cblx0ICogQHBhcmFtIHtbU3RyaW5nXX0ga2V5cyBrZXlzIG9mIHRoZSBwcm9wZXJ0aWVzIHRvIHNraXBcblx0ICogQHJldHVybiB7T2JqZWN0fSB0aGUgb2JqZWN0IHdpdGggdGhlIHByb3BlcnRpZXMgc2tpcHBlZFxuXHQgKi9cblx0ZnVuY3Rpb24gc2tpcChvYmosIGtleXMpIHtcblx0ICB2YXIgc2tpcHBlZCA9IHt9O1xuXHQgIE9iamVjdC5rZXlzKG9iaikuZm9yRWFjaChmdW5jdGlvbiAob2JqS2V5KSB7XG5cdCAgICBpZiAoa2V5cy5pbmRleE9mKG9iaktleSkgPT09IC0xKSB7XG5cdCAgICAgIHNraXBwZWRbb2JqS2V5XSA9IG9ialtvYmpLZXldO1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgIHJldHVybiBza2lwcGVkO1xuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcblx0ICBtZXJnZTogbWVyZ2UsXG5cdCAgc2tpcDogc2tpcFxuXHR9O1xuXG4vKioqLyB9LFxuLyogOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKG1vZHVsZSkgey8qIVxyXG5cdCAqIEBuYW1lIEphdmFTY3JpcHQvTm9kZUpTIE1lcmdlIHYxLjIuMFxyXG5cdCAqIEBhdXRob3IgeWVpa29zXHJcblx0ICogQHJlcG9zaXRvcnkgaHR0cHM6Ly9naXRodWIuY29tL3llaWtvcy9qcy5tZXJnZVxyXG5cdFxyXG5cdCAqIENvcHlyaWdodCAyMDE0IHllaWtvcyAtIE1JVCBsaWNlbnNlXHJcblx0ICogaHR0cHM6Ly9yYXcuZ2l0aHViLmNvbS95ZWlrb3MvanMubWVyZ2UvbWFzdGVyL0xJQ0VOU0VcclxuXHQgKi9cclxuXHRcclxuXHQ7KGZ1bmN0aW9uKGlzTm9kZSkge1xyXG5cdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBNZXJnZSBvbmUgb3IgbW9yZSBvYmplY3RzIFxyXG5cdFx0ICogQHBhcmFtIGJvb2w/IGNsb25lXHJcblx0XHQgKiBAcGFyYW0gbWl4ZWQsLi4uIGFyZ3VtZW50c1xyXG5cdFx0ICogQHJldHVybiBvYmplY3RcclxuXHRcdCAqL1xyXG5cdFxyXG5cdFx0dmFyIFB1YmxpYyA9IGZ1bmN0aW9uKGNsb25lKSB7XHJcblx0XHJcblx0XHRcdHJldHVybiBtZXJnZShjbG9uZSA9PT0gdHJ1ZSwgZmFsc2UsIGFyZ3VtZW50cyk7XHJcblx0XHJcblx0XHR9LCBwdWJsaWNOYW1lID0gJ21lcmdlJztcclxuXHRcclxuXHRcdC8qKlxyXG5cdFx0ICogTWVyZ2UgdHdvIG9yIG1vcmUgb2JqZWN0cyByZWN1cnNpdmVseSBcclxuXHRcdCAqIEBwYXJhbSBib29sPyBjbG9uZVxyXG5cdFx0ICogQHBhcmFtIG1peGVkLC4uLiBhcmd1bWVudHNcclxuXHRcdCAqIEByZXR1cm4gb2JqZWN0XHJcblx0XHQgKi9cclxuXHRcclxuXHRcdFB1YmxpYy5yZWN1cnNpdmUgPSBmdW5jdGlvbihjbG9uZSkge1xyXG5cdFxyXG5cdFx0XHRyZXR1cm4gbWVyZ2UoY2xvbmUgPT09IHRydWUsIHRydWUsIGFyZ3VtZW50cyk7XHJcblx0XHJcblx0XHR9O1xyXG5cdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBDbG9uZSB0aGUgaW5wdXQgcmVtb3ZpbmcgYW55IHJlZmVyZW5jZVxyXG5cdFx0ICogQHBhcmFtIG1peGVkIGlucHV0XHJcblx0XHQgKiBAcmV0dXJuIG1peGVkXHJcblx0XHQgKi9cclxuXHRcclxuXHRcdFB1YmxpYy5jbG9uZSA9IGZ1bmN0aW9uKGlucHV0KSB7XHJcblx0XHJcblx0XHRcdHZhciBvdXRwdXQgPSBpbnB1dCxcclxuXHRcdFx0XHR0eXBlID0gdHlwZU9mKGlucHV0KSxcclxuXHRcdFx0XHRpbmRleCwgc2l6ZTtcclxuXHRcclxuXHRcdFx0aWYgKHR5cGUgPT09ICdhcnJheScpIHtcclxuXHRcclxuXHRcdFx0XHRvdXRwdXQgPSBbXTtcclxuXHRcdFx0XHRzaXplID0gaW5wdXQubGVuZ3RoO1xyXG5cdFxyXG5cdFx0XHRcdGZvciAoaW5kZXg9MDtpbmRleDxzaXplOysraW5kZXgpXHJcblx0XHJcblx0XHRcdFx0XHRvdXRwdXRbaW5kZXhdID0gUHVibGljLmNsb25lKGlucHV0W2luZGV4XSk7XHJcblx0XHJcblx0XHRcdH0gZWxzZSBpZiAodHlwZSA9PT0gJ29iamVjdCcpIHtcclxuXHRcclxuXHRcdFx0XHRvdXRwdXQgPSB7fTtcclxuXHRcclxuXHRcdFx0XHRmb3IgKGluZGV4IGluIGlucHV0KVxyXG5cdFxyXG5cdFx0XHRcdFx0b3V0cHV0W2luZGV4XSA9IFB1YmxpYy5jbG9uZShpbnB1dFtpbmRleF0pO1xyXG5cdFxyXG5cdFx0XHR9XHJcblx0XHJcblx0XHRcdHJldHVybiBvdXRwdXQ7XHJcblx0XHJcblx0XHR9O1xyXG5cdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBNZXJnZSB0d28gb2JqZWN0cyByZWN1cnNpdmVseVxyXG5cdFx0ICogQHBhcmFtIG1peGVkIGlucHV0XHJcblx0XHQgKiBAcGFyYW0gbWl4ZWQgZXh0ZW5kXHJcblx0XHQgKiBAcmV0dXJuIG1peGVkXHJcblx0XHQgKi9cclxuXHRcclxuXHRcdGZ1bmN0aW9uIG1lcmdlX3JlY3Vyc2l2ZShiYXNlLCBleHRlbmQpIHtcclxuXHRcclxuXHRcdFx0aWYgKHR5cGVPZihiYXNlKSAhPT0gJ29iamVjdCcpXHJcblx0XHJcblx0XHRcdFx0cmV0dXJuIGV4dGVuZDtcclxuXHRcclxuXHRcdFx0Zm9yICh2YXIga2V5IGluIGV4dGVuZCkge1xyXG5cdFxyXG5cdFx0XHRcdGlmICh0eXBlT2YoYmFzZVtrZXldKSA9PT0gJ29iamVjdCcgJiYgdHlwZU9mKGV4dGVuZFtrZXldKSA9PT0gJ29iamVjdCcpIHtcclxuXHRcclxuXHRcdFx0XHRcdGJhc2Vba2V5XSA9IG1lcmdlX3JlY3Vyc2l2ZShiYXNlW2tleV0sIGV4dGVuZFtrZXldKTtcclxuXHRcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFxyXG5cdFx0XHRcdFx0YmFzZVtrZXldID0gZXh0ZW5kW2tleV07XHJcblx0XHJcblx0XHRcdFx0fVxyXG5cdFxyXG5cdFx0XHR9XHJcblx0XHJcblx0XHRcdHJldHVybiBiYXNlO1xyXG5cdFxyXG5cdFx0fVxyXG5cdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBNZXJnZSB0d28gb3IgbW9yZSBvYmplY3RzXHJcblx0XHQgKiBAcGFyYW0gYm9vbCBjbG9uZVxyXG5cdFx0ICogQHBhcmFtIGJvb2wgcmVjdXJzaXZlXHJcblx0XHQgKiBAcGFyYW0gYXJyYXkgYXJndlxyXG5cdFx0ICogQHJldHVybiBvYmplY3RcclxuXHRcdCAqL1xyXG5cdFxyXG5cdFx0ZnVuY3Rpb24gbWVyZ2UoY2xvbmUsIHJlY3Vyc2l2ZSwgYXJndikge1xyXG5cdFxyXG5cdFx0XHR2YXIgcmVzdWx0ID0gYXJndlswXSxcclxuXHRcdFx0XHRzaXplID0gYXJndi5sZW5ndGg7XHJcblx0XHJcblx0XHRcdGlmIChjbG9uZSB8fCB0eXBlT2YocmVzdWx0KSAhPT0gJ29iamVjdCcpXHJcblx0XHJcblx0XHRcdFx0cmVzdWx0ID0ge307XHJcblx0XHJcblx0XHRcdGZvciAodmFyIGluZGV4PTA7aW5kZXg8c2l6ZTsrK2luZGV4KSB7XHJcblx0XHJcblx0XHRcdFx0dmFyIGl0ZW0gPSBhcmd2W2luZGV4XSxcclxuXHRcclxuXHRcdFx0XHRcdHR5cGUgPSB0eXBlT2YoaXRlbSk7XHJcblx0XHJcblx0XHRcdFx0aWYgKHR5cGUgIT09ICdvYmplY3QnKSBjb250aW51ZTtcclxuXHRcclxuXHRcdFx0XHRmb3IgKHZhciBrZXkgaW4gaXRlbSkge1xyXG5cdFxyXG5cdFx0XHRcdFx0dmFyIHNpdGVtID0gY2xvbmUgPyBQdWJsaWMuY2xvbmUoaXRlbVtrZXldKSA6IGl0ZW1ba2V5XTtcclxuXHRcclxuXHRcdFx0XHRcdGlmIChyZWN1cnNpdmUpIHtcclxuXHRcclxuXHRcdFx0XHRcdFx0cmVzdWx0W2tleV0gPSBtZXJnZV9yZWN1cnNpdmUocmVzdWx0W2tleV0sIHNpdGVtKTtcclxuXHRcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHJcblx0XHRcdFx0XHRcdHJlc3VsdFtrZXldID0gc2l0ZW07XHJcblx0XHJcblx0XHRcdFx0XHR9XHJcblx0XHJcblx0XHRcdFx0fVxyXG5cdFxyXG5cdFx0XHR9XHJcblx0XHJcblx0XHRcdHJldHVybiByZXN1bHQ7XHJcblx0XHJcblx0XHR9XHJcblx0XHJcblx0XHQvKipcclxuXHRcdCAqIEdldCB0eXBlIG9mIHZhcmlhYmxlXHJcblx0XHQgKiBAcGFyYW0gbWl4ZWQgaW5wdXRcclxuXHRcdCAqIEByZXR1cm4gc3RyaW5nXHJcblx0XHQgKlxyXG5cdFx0ICogQHNlZSBodHRwOi8vanNwZXJmLmNvbS90eXBlb2Z2YXJcclxuXHRcdCAqL1xyXG5cdFxyXG5cdFx0ZnVuY3Rpb24gdHlwZU9mKGlucHV0KSB7XHJcblx0XHJcblx0XHRcdHJldHVybiAoe30pLnRvU3RyaW5nLmNhbGwoaW5wdXQpLnNsaWNlKDgsIC0xKS50b0xvd2VyQ2FzZSgpO1xyXG5cdFxyXG5cdFx0fVxyXG5cdFxyXG5cdFx0aWYgKGlzTm9kZSkge1xyXG5cdFxyXG5cdFx0XHRtb2R1bGUuZXhwb3J0cyA9IFB1YmxpYztcclxuXHRcclxuXHRcdH0gZWxzZSB7XHJcblx0XHJcblx0XHRcdHdpbmRvd1twdWJsaWNOYW1lXSA9IFB1YmxpYztcclxuXHRcclxuXHRcdH1cclxuXHRcclxuXHR9KSh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzID09PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cyk7XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpKG1vZHVsZSkpKVxuXG4vKioqLyB9LFxuLyogOSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihtb2R1bGUpIHtcblx0XHRpZighbW9kdWxlLndlYnBhY2tQb2x5ZmlsbCkge1xuXHRcdFx0bW9kdWxlLmRlcHJlY2F0ZSA9IGZ1bmN0aW9uKCkge307XG5cdFx0XHRtb2R1bGUucGF0aHMgPSBbXTtcblx0XHRcdC8vIG1vZHVsZS5wYXJlbnQgPSB1bmRlZmluZWQgYnkgZGVmYXVsdFxuXHRcdFx0bW9kdWxlLmNoaWxkcmVuID0gW107XG5cdFx0XHRtb2R1bGUud2VicGFja1BvbHlmaWxsID0gMTtcblx0XHR9XG5cdFx0cmV0dXJuIG1vZHVsZTtcblx0fVxuXG5cbi8qKiovIH0sXG4vKiAxMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0LyoqXG5cdCAqIENyZWF0ZXMgYSBuZXcgVVJMIGJ5IGNvbWJpbmluZyB0aGUgc3BlY2lmaWVkIFVSTHNcblx0ICpcblx0ICogQHBhcmFtIHtzdHJpbmd9IGJhc2VVUkwgVGhlIGJhc2UgVVJMXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSByZWxhdGl2ZVVSTCBUaGUgcmVsYXRpdmUgVVJMXG5cdCAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBjb21iaW5lZCBVUkxcblx0ICovXG5cdFxuXHRmdW5jdGlvbiBjb21iaW5lVVJMcyhiYXNlVVJMLCByZWxhdGl2ZVVSTCkge1xuXHQgIHJldHVybiBiYXNlVVJMLnJlcGxhY2UoL1xcLyskLywgJycpICsgJy8nICsgcmVsYXRpdmVVUkwucmVwbGFjZSgvXlxcLysvLCAnJyk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIHNwZWNpZmllZCBVUkwgaXMgYWJzb2x1dGVcblx0ICpcblx0ICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgVVJMIHRvIHRlc3Rcblx0ICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHNwZWNpZmllZCBVUkwgaXMgYWJzb2x1dGUsIG90aGVyd2lzZSBmYWxzZVxuXHQgKi9cblx0ZnVuY3Rpb24gaXNBYnNvbHV0ZVVSTCh1cmwpIHtcblx0ICAvLyBBIFVSTCBpcyBjb25zaWRlcmVkIGFic29sdXRlIGlmIGl0IGJlZ2lucyB3aXRoIFwiPHNjaGVtZT46Ly9cIiBvciBcIi8vXCIgKHByb3RvY29sLXJlbGF0aXZlIFVSTCkuXG5cdCAgLy8gUkZDIDM5ODYgZGVmaW5lcyBzY2hlbWUgbmFtZSBhcyBhIHNlcXVlbmNlIG9mIGNoYXJhY3RlcnMgYmVnaW5uaW5nIHdpdGggYSBsZXR0ZXIgYW5kIGZvbGxvd2VkXG5cdCAgLy8gYnkgYW55IGNvbWJpbmF0aW9uIG9mIGxldHRlcnMsIGRpZ2l0cywgcGx1cywgcGVyaW9kLCBvciBoeXBoZW4uXG5cdCAgcmV0dXJuICgvXihbYS16XVthLXpcXGRcXCtcXC1cXC5dKjopP1xcL1xcLy9pLnRlc3QodXJsKVxuXHQgICk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblx0fVxuXHRcblx0ZnVuY3Rpb24gZm9ybWF0VVJMcyhiYXNlVXJsLCByZWxhdGl2ZVVSTCkge1xuXHQgIGlmICghYmFzZVVybCB8fCBpc0Fic29sdXRlVVJMKHJlbGF0aXZlVVJMKSkge1xuXHQgICAgcmV0dXJuIHJlbGF0aXZlVVJMO1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIGNvbWJpbmVVUkxzKGJhc2VVcmwsIHJlbGF0aXZlVVJMKTtcblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSB7XG5cdCAgZm9ybWF0OiBmb3JtYXRVUkxzLFxuXHQgIGNvbWJpbmU6IGNvbWJpbmVVUkxzLFxuXHQgIGlzQWJzb2x1dGU6IGlzQWJzb2x1dGVVUkxcblx0fTtcblxuLyoqKi8gfSxcbi8qIDExICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHQvKipcblx0ICogV3JhcHAgYSByZXNwb25zZVxuXHQgKlxuXHQgKiBAcGFyYW0ge09iamVjdH0gcmVzcG9uc2UgcmVzcG9uc2Ugb2JqZWN0XG5cdCAqIEBwYXJhbSB7U3RyaW5nfSByZWFkZXIgdHlwZSBvZiByZWFkZXIgdG8gdXNlIG9uIHJlc3BvbnNlIGJvZHlcblx0ICogQHJldHVybiB7UHJvbWlzZX0gcmVzb2x2ZXMgdG8gdGhlIHdyYXBwZWQgcmVhZCByZXNwb25zZVxuXHQgKi9cblx0ZnVuY3Rpb24gd3JhcFJlc3BvbnNlKHJlc3BvbnNlLCByZWFkZXIpIHtcblx0ICByZXR1cm4gcmVzcG9uc2VbcmVhZGVyXSgpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIGhlYWRlcnM6IHJlc3BvbnNlLmhlYWRlcnMsXG5cdCAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuXHQgICAgICBzdGF0dXNUZXh0OiByZXNwb25zZS5zdGF0dXNUZXh0LFxuXHQgICAgICBkYXRhOiBkYXRhXG5cdCAgICB9O1xuXHQgIH0pO1xuXHR9XG5cdFxuXHQvKipcblx0ICogUmVhZHMgb3IgcmVqZWN0cyBhIGZldGNoIHJlcXVlc3QgcmVzcG9uc2Vcblx0ICpcblx0ICogQHBhcmFtIHtPYmplY3R9IHJlc3BvbnNlIHJlc3BvbnNlIG9iamVjdFxuXHQgKiBAcGFyYW0ge1N0cmluZ30gcmVhZGVyIHR5cGUgb2YgcmVhZGVyIHRvIHVzZSBvbiByZXNwb25zZSBib2R5XG5cdCAqIEByZXR1cm4ge1Byb21pc2V9IHJlYWQgb3IgcmVqZWN0aW9uIHByb21pc2Vcblx0ICovXG5cdGZ1bmN0aW9uIHJlc3BvbnNlSGFuZGxlcihyZXNwb25zZSwgcmVhZGVyKSB7XG5cdCAgaWYgKCFyZXNwb25zZS5vaykge1xuXHQgICAgdmFyIGVyciA9IG5ldyBFcnJvcihyZXNwb25zZS5zdGF0dXNUZXh0KTtcblx0ICAgIGVyci5zdGF0dXMgPSByZXNwb25zZS5zdGF0dXM7XG5cdCAgICBlcnIuc3RhdHVzVGV4dCA9IHJlc3BvbnNlLnN0YXR1c1RleHQ7XG5cdCAgICBlcnIuaGVhZGVycyA9IHJlc3BvbnNlLmhlYWRlcnM7XG5cdCAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTtcblx0ICB9XG5cdCAgaWYgKHJlYWRlcikge1xuXHQgICAgcmV0dXJuIHdyYXBSZXNwb25zZShyZXNwb25zZSwgcmVhZGVyKTtcblx0ICB9XG5cdFxuXHQgIHZhciBjb250ZW50VHlwZSA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdDb250ZW50LVR5cGUnKTtcblx0ICBpZiAoY29udGVudFR5cGUgJiYgY29udGVudFR5cGUuaW5jbHVkZXMoJ2FwcGxpY2F0aW9uL2pzb24nKSkge1xuXHQgICAgcmV0dXJuIHdyYXBSZXNwb25zZShyZXNwb25zZSwgJ2pzb24nKTtcblx0ICB9XG5cdCAgcmV0dXJuIHdyYXBSZXNwb25zZShyZXNwb25zZSwgJ3RleHQnKTtcblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSByZXNwb25zZUhhbmRsZXI7XG5cbi8qKiovIH1cbi8qKioqKiovIF0pXG59KTtcbjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gdHJhZS5taW4uanMiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0ZXhwb3J0czoge30sXG4gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuIFx0XHRcdGxvYWRlZDogZmFsc2VcbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCA5NmYyZjRkZDI2OTVmMGQ5MjNmMiIsInJlcXVpcmUoJ3doYXR3Zy1mZXRjaCcpO1xuY29uc3QgYnVpbGRRdWVyeSA9IHJlcXVpcmUoJ3RyYWUtcXVlcnknKS5idWlsZFF1ZXJ5O1xuXG5jb25zdCBNaWRkbGV3YXJlICAgICAgPSByZXF1aXJlKCcuL21pZGRsZXdhcmUnKTtcbmNvbnN0IENvbmZpZyAgICAgICAgICA9IHJlcXVpcmUoJy4vY29uZmlnJyk7XG5jb25zdCBza2lwICAgICAgICAgICAgPSByZXF1aXJlKCcuL3V0aWxzJykuc2tpcDtcbmNvbnN0IHVybEhhbmRsZXIgICAgICA9IHJlcXVpcmUoJy4vaGVscGVycy91cmwtaGFuZGxlcicpO1xuY29uc3QgcmVzcG9uc2VIYW5kbGVyID0gcmVxdWlyZSgnLi9oZWxwZXJzL3Jlc3BvbnNlLWhhbmRsZXInKTtcblxuY2xhc3MgVHJhZSB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZyA9IHt9KSB7XG4gICAgdGhpcy5fbWlkZGxld2FyZSA9IG5ldyBNaWRkbGV3YXJlKCk7XG4gICAgdGhpcy5fY29uZmlnICAgICA9IG5ldyBDb25maWcoc2tpcChjb25maWcsIFsnYmFzZVVybCddKSk7XG5cbiAgICB0aGlzLmJhc2VVcmwoY29uZmlnLmJhc2VVcmwgfHwgJycpO1xuICAgIHRoaXMuX2luaXRNZXRob2RzV2l0aEJvZHkoKTtcbiAgICB0aGlzLl9pbml0TWV0aG9kc1dpdGhOb0JvZHkoKTtcbiAgfVxuXG4gIGNyZWF0ZShjb25maWcpIHtcbiAgICByZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoY29uZmlnKTtcbiAgfVxuXG4gIHVzZShtaWRkbGV3YXJlcyA9IHt9KSB7XG4gICAgaWYgKG1pZGRsZXdhcmVzLmNvbmZpZykge1xuICAgICAgdGhpcy5fbWlkZGxld2FyZS5yZXF1ZXN0KG1pZGRsZXdhcmVzLmNvbmZpZyk7XG4gICAgfVxuICAgIGlmIChtaWRkbGV3YXJlcy5mdWxmaWxsIHx8IG1pZGRsZXdhcmVzLnJlamVjdCkge1xuICAgICAgdGhpcy5fbWlkZGxld2FyZS5yZXNwb25zZShtaWRkbGV3YXJlcy5mdWxmaWxsLCBtaWRkbGV3YXJlcy5yZWplY3QpO1xuICAgIH1cbiAgfVxuXG4gIGRlZmF1bHRzKGNvbmZpZykge1xuICAgIGlmICh0eXBlb2YgY29uZmlnID09PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIHRoaXMuX2NvbmZpZy5nZXQoKTtcbiAgICB9XG4gICAgdGhpcy5fY29uZmlnLnNldChza2lwKGNvbmZpZywgWydiYXNlVXJsJ10pKTtcbiAgICBjb25maWcuYmFzZVVybCAmJiB0aGlzLmJhc2VVcmwoY29uZmlnLmJhc2VVcmwpO1xuICAgIHJldHVybiB0aGlzLl9jb25maWcuZ2V0KCk7XG4gIH1cblxuICBiYXNlVXJsKGJhc2VVcmwpIHtcbiAgICBpZiAodHlwZW9mIGJhc2VVcmwgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gdGhpcy5fYmFzZVVybDtcbiAgICB9XG4gICAgdGhpcy5fYmFzZVVybCA9IGJhc2VVcmw7XG4gICAgcmV0dXJuIHRoaXMuX2Jhc2VVcmw7XG4gIH1cblxuICByZXF1ZXN0KGNvbmZpZyA9IHt9KSB7XG4gICAgY29uZmlnLm1ldGhvZCB8fCAoY29uZmlnLm1ldGhvZCA9ICdnZXQnKTtcbiAgICBjb25zdCBtZXJnZWRDb25maWcgPSB0aGlzLl9jb25maWcubWVyZ2VXaXRoRGVmYXVsdHMoY29uZmlnKTtcbiAgICBjb25zdCB1cmwgICAgICAgICAgPSBidWlsZFF1ZXJ5KHVybEhhbmRsZXIuZm9ybWF0KHRoaXMuX2Jhc2VVcmwsIGNvbmZpZy51cmwpLCBjb25maWcucGFyYW1zKTtcblxuICAgIHJldHVybiB0aGlzLl9mZXRjaCh1cmwsIG1lcmdlZENvbmZpZyk7XG4gIH1cblxuICBfZmV0Y2godXJsLCBjb25maWcpIHtcbiAgICByZXR1cm4gdGhpcy5fbWlkZGxld2FyZS5yZXNvbHZlUmVxdWVzdHMoY29uZmlnKVxuICAgIC50aGVuKGNvbmZpZyA9PiBmZXRjaCh1cmwsIGNvbmZpZykpXG4gICAgLnRoZW4ocmVzID0+IHJlc3BvbnNlSGFuZGxlcihyZXMsIGNvbmZpZy5ib2R5VHlwZSkpXG4gICAgLnRoZW4ocmVzID0+IHRoaXMuX21pZGRsZXdhcmUucmVzb2x2ZVJlc3BvbnNlcyhyZXMpKTtcbiAgfVxuXG4gIF9pbml0TWV0aG9kc1dpdGhOb0JvZHkoKSB7XG4gICAgWydnZXQnLCAnZGVsZXRlJywgJ2hlYWQnXS5mb3JFYWNoKChtZXRob2QpID0+IHtcbiAgICAgIHRoaXNbbWV0aG9kXSA9IChwYXRoLCBjb25maWcgPSB7fSkgPT4ge1xuICAgICAgICBjb25zdCBtZXJnZWRDb25maWcgPSB0aGlzLl9jb25maWcubWVyZ2VXaXRoRGVmYXVsdHMoY29uZmlnLCB7IG1ldGhvZCB9KTtcbiAgICAgICAgY29uc3QgdXJsICAgICAgICAgID0gYnVpbGRRdWVyeSh1cmxIYW5kbGVyLmZvcm1hdCh0aGlzLl9iYXNlVXJsLCBwYXRoKSwgY29uZmlnLnBhcmFtcyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZldGNoKHVybCwgbWVyZ2VkQ29uZmlnKTtcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICBfaW5pdE1ldGhvZHNXaXRoQm9keSgpIHtcbiAgICBbJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJ10uZm9yRWFjaCgobWV0aG9kKSA9PiB7XG4gICAgICB0aGlzW21ldGhvZF0gPSAocGF0aCwgYm9keSwgY29uZmlnKSA9PiB7XG4gICAgICAgIGNvbnN0IG1lcmdlZENvbmZpZyA9IHRoaXMuX2NvbmZpZy5tZXJnZVdpdGhEZWZhdWx0cyhjb25maWcsIHsgYm9keSwgbWV0aG9kIH0pO1xuICAgICAgICBjb25zdCB1cmwgICAgICAgICAgPSB1cmxIYW5kbGVyLmZvcm1hdCh0aGlzLl9iYXNlVXJsLCBwYXRoKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fZmV0Y2godXJsLCBtZXJnZWRDb25maWcpO1xuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG59XG5cbm1vZHVsZS5leHBvcnRzID0gbmV3IFRyYWUoKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2xpYi9pbmRleC5qcyIsIihmdW5jdGlvbihzZWxmKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBpZiAoc2VsZi5mZXRjaCkge1xuICAgIHJldHVyblxuICB9XG5cbiAgdmFyIHN1cHBvcnQgPSB7XG4gICAgc2VhcmNoUGFyYW1zOiAnVVJMU2VhcmNoUGFyYW1zJyBpbiBzZWxmLFxuICAgIGl0ZXJhYmxlOiAnU3ltYm9sJyBpbiBzZWxmICYmICdpdGVyYXRvcicgaW4gU3ltYm9sLFxuICAgIGJsb2I6ICdGaWxlUmVhZGVyJyBpbiBzZWxmICYmICdCbG9iJyBpbiBzZWxmICYmIChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIG5ldyBCbG9iKClcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICB9KSgpLFxuICAgIGZvcm1EYXRhOiAnRm9ybURhdGEnIGluIHNlbGYsXG4gICAgYXJyYXlCdWZmZXI6ICdBcnJheUJ1ZmZlcicgaW4gc2VsZlxuICB9XG5cbiAgZnVuY3Rpb24gbm9ybWFsaXplTmFtZShuYW1lKSB7XG4gICAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykge1xuICAgICAgbmFtZSA9IFN0cmluZyhuYW1lKVxuICAgIH1cbiAgICBpZiAoL1teYS16MC05XFwtIyQlJicqKy5cXF5fYHx+XS9pLnRlc3QobmFtZSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgY2hhcmFjdGVyIGluIGhlYWRlciBmaWVsZCBuYW1lJylcbiAgICB9XG4gICAgcmV0dXJuIG5hbWUudG9Mb3dlckNhc2UoKVxuICB9XG5cbiAgZnVuY3Rpb24gbm9ybWFsaXplVmFsdWUodmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykge1xuICAgICAgdmFsdWUgPSBTdHJpbmcodmFsdWUpXG4gICAgfVxuICAgIHJldHVybiB2YWx1ZVxuICB9XG5cbiAgLy8gQnVpbGQgYSBkZXN0cnVjdGl2ZSBpdGVyYXRvciBmb3IgdGhlIHZhbHVlIGxpc3RcbiAgZnVuY3Rpb24gaXRlcmF0b3JGb3IoaXRlbXMpIHtcbiAgICB2YXIgaXRlcmF0b3IgPSB7XG4gICAgICBuZXh0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gaXRlbXMuc2hpZnQoKVxuICAgICAgICByZXR1cm4ge2RvbmU6IHZhbHVlID09PSB1bmRlZmluZWQsIHZhbHVlOiB2YWx1ZX1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3VwcG9ydC5pdGVyYWJsZSkge1xuICAgICAgaXRlcmF0b3JbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gaXRlcmF0b3JcbiAgfVxuXG4gIGZ1bmN0aW9uIEhlYWRlcnMoaGVhZGVycykge1xuICAgIHRoaXMubWFwID0ge31cblxuICAgIGlmIChoZWFkZXJzIGluc3RhbmNlb2YgSGVhZGVycykge1xuICAgICAgaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICAgIHRoaXMuYXBwZW5kKG5hbWUsIHZhbHVlKVxuICAgICAgfSwgdGhpcylcblxuICAgIH0gZWxzZSBpZiAoaGVhZGVycykge1xuICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoaGVhZGVycykuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgIHRoaXMuYXBwZW5kKG5hbWUsIGhlYWRlcnNbbmFtZV0pXG4gICAgICB9LCB0aGlzKVxuICAgIH1cbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgbmFtZSA9IG5vcm1hbGl6ZU5hbWUobmFtZSlcbiAgICB2YWx1ZSA9IG5vcm1hbGl6ZVZhbHVlKHZhbHVlKVxuICAgIHZhciBsaXN0ID0gdGhpcy5tYXBbbmFtZV1cbiAgICBpZiAoIWxpc3QpIHtcbiAgICAgIGxpc3QgPSBbXVxuICAgICAgdGhpcy5tYXBbbmFtZV0gPSBsaXN0XG4gICAgfVxuICAgIGxpc3QucHVzaCh2YWx1ZSlcbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlWydkZWxldGUnXSA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBkZWxldGUgdGhpcy5tYXBbbm9ybWFsaXplTmFtZShuYW1lKV1cbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICB2YXIgdmFsdWVzID0gdGhpcy5tYXBbbm9ybWFsaXplTmFtZShuYW1lKV1cbiAgICByZXR1cm4gdmFsdWVzID8gdmFsdWVzWzBdIDogbnVsbFxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuZ2V0QWxsID0gZnVuY3Rpb24obmFtZSkge1xuICAgIHJldHVybiB0aGlzLm1hcFtub3JtYWxpemVOYW1lKG5hbWUpXSB8fCBbXVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24obmFtZSkge1xuICAgIHJldHVybiB0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eShub3JtYWxpemVOYW1lKG5hbWUpKVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICB0aGlzLm1hcFtub3JtYWxpemVOYW1lKG5hbWUpXSA9IFtub3JtYWxpemVWYWx1ZSh2YWx1ZSldXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24oY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzLm1hcCkuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgICB0aGlzLm1hcFtuYW1lXS5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdmFsdWUsIG5hbWUsIHRoaXMpXG4gICAgICB9LCB0aGlzKVxuICAgIH0sIHRoaXMpXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5rZXlzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGl0ZW1zID0gW11cbiAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHsgaXRlbXMucHVzaChuYW1lKSB9KVxuICAgIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLnZhbHVlcyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpdGVtcyA9IFtdXG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7IGl0ZW1zLnB1c2godmFsdWUpIH0pXG4gICAgcmV0dXJuIGl0ZXJhdG9yRm9yKGl0ZW1zKVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuZW50cmllcyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpdGVtcyA9IFtdXG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7IGl0ZW1zLnB1c2goW25hbWUsIHZhbHVlXSkgfSlcbiAgICByZXR1cm4gaXRlcmF0b3JGb3IoaXRlbXMpXG4gIH1cblxuICBpZiAoc3VwcG9ydC5pdGVyYWJsZSkge1xuICAgIEhlYWRlcnMucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBIZWFkZXJzLnByb3RvdHlwZS5lbnRyaWVzXG4gIH1cblxuICBmdW5jdGlvbiBjb25zdW1lZChib2R5KSB7XG4gICAgaWYgKGJvZHkuYm9keVVzZWQpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgVHlwZUVycm9yKCdBbHJlYWR5IHJlYWQnKSlcbiAgICB9XG4gICAgYm9keS5ib2R5VXNlZCA9IHRydWVcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlc29sdmUocmVhZGVyLnJlc3VsdClcbiAgICAgIH1cbiAgICAgIHJlYWRlci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlamVjdChyZWFkZXIuZXJyb3IpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWRCbG9iQXNBcnJheUJ1ZmZlcihibG9iKSB7XG4gICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKClcbiAgICByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoYmxvYilcbiAgICByZXR1cm4gZmlsZVJlYWRlclJlYWR5KHJlYWRlcilcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWRCbG9iQXNUZXh0KGJsb2IpIHtcbiAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKVxuICAgIHJlYWRlci5yZWFkQXNUZXh0KGJsb2IpXG4gICAgcmV0dXJuIGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpXG4gIH1cblxuICBmdW5jdGlvbiBCb2R5KCkge1xuICAgIHRoaXMuYm9keVVzZWQgPSBmYWxzZVxuXG4gICAgdGhpcy5faW5pdEJvZHkgPSBmdW5jdGlvbihib2R5KSB7XG4gICAgICB0aGlzLl9ib2R5SW5pdCA9IGJvZHlcbiAgICAgIGlmICh0eXBlb2YgYm9keSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhpcy5fYm9keVRleHQgPSBib2R5XG4gICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYmxvYiAmJiBCbG9iLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlCbG9iID0gYm9keVxuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LmZvcm1EYXRhICYmIEZvcm1EYXRhLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlGb3JtRGF0YSA9IGJvZHlcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5zZWFyY2hQYXJhbXMgJiYgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlUZXh0ID0gYm9keS50b1N0cmluZygpXG4gICAgICB9IGVsc2UgaWYgKCFib2R5KSB7XG4gICAgICAgIHRoaXMuX2JvZHlUZXh0ID0gJydcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5hcnJheUJ1ZmZlciAmJiBBcnJheUJ1ZmZlci5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICAvLyBPbmx5IHN1cHBvcnQgQXJyYXlCdWZmZXJzIGZvciBQT1NUIG1ldGhvZC5cbiAgICAgICAgLy8gUmVjZWl2aW5nIEFycmF5QnVmZmVycyBoYXBwZW5zIHZpYSBCbG9icywgaW5zdGVhZC5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigndW5zdXBwb3J0ZWQgQm9keUluaXQgdHlwZScpXG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJykpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBib2R5ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsICd0ZXh0L3BsYWluO2NoYXJzZXQ9VVRGLTgnKVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlCbG9iICYmIHRoaXMuX2JvZHlCbG9iLnR5cGUpIHtcbiAgICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCB0aGlzLl9ib2R5QmxvYi50eXBlKVxuICAgICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuc2VhcmNoUGFyYW1zICYmIFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOCcpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3VwcG9ydC5ibG9iKSB7XG4gICAgICB0aGlzLmJsb2IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHJlamVjdGVkID0gY29uc3VtZWQodGhpcylcbiAgICAgICAgaWYgKHJlamVjdGVkKSB7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdGVkXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fYm9keUJsb2IpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlCbG9iKVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlGb3JtRGF0YSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyBibG9iJylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBCbG9iKFt0aGlzLl9ib2R5VGV4dF0pKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuYXJyYXlCdWZmZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmxvYigpLnRoZW4ocmVhZEJsb2JBc0FycmF5QnVmZmVyKVxuICAgICAgfVxuXG4gICAgICB0aGlzLnRleHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHJlamVjdGVkID0gY29uc3VtZWQodGhpcylcbiAgICAgICAgaWYgKHJlamVjdGVkKSB7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdGVkXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fYm9keUJsb2IpIHtcbiAgICAgICAgICByZXR1cm4gcmVhZEJsb2JBc1RleHQodGhpcy5fYm9keUJsb2IpXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUZvcm1EYXRhKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgcmVhZCBGb3JtRGF0YSBib2R5IGFzIHRleHQnKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keVRleHQpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy50ZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciByZWplY3RlZCA9IGNvbnN1bWVkKHRoaXMpXG4gICAgICAgIHJldHVybiByZWplY3RlZCA/IHJlamVjdGVkIDogUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlUZXh0KVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzdXBwb3J0LmZvcm1EYXRhKSB7XG4gICAgICB0aGlzLmZvcm1EYXRhID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRleHQoKS50aGVuKGRlY29kZSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmpzb24gPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnRleHQoKS50aGVuKEpTT04ucGFyc2UpXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8vIEhUVFAgbWV0aG9kcyB3aG9zZSBjYXBpdGFsaXphdGlvbiBzaG91bGQgYmUgbm9ybWFsaXplZFxuICB2YXIgbWV0aG9kcyA9IFsnREVMRVRFJywgJ0dFVCcsICdIRUFEJywgJ09QVElPTlMnLCAnUE9TVCcsICdQVVQnXVxuXG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZU1ldGhvZChtZXRob2QpIHtcbiAgICB2YXIgdXBjYXNlZCA9IG1ldGhvZC50b1VwcGVyQ2FzZSgpXG4gICAgcmV0dXJuIChtZXRob2RzLmluZGV4T2YodXBjYXNlZCkgPiAtMSkgPyB1cGNhc2VkIDogbWV0aG9kXG4gIH1cblxuICBmdW5jdGlvbiBSZXF1ZXN0KGlucHV0LCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge31cbiAgICB2YXIgYm9keSA9IG9wdGlvbnMuYm9keVxuICAgIGlmIChSZXF1ZXN0LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGlucHV0KSkge1xuICAgICAgaWYgKGlucHV0LmJvZHlVc2VkKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FscmVhZHkgcmVhZCcpXG4gICAgICB9XG4gICAgICB0aGlzLnVybCA9IGlucHV0LnVybFxuICAgICAgdGhpcy5jcmVkZW50aWFscyA9IGlucHV0LmNyZWRlbnRpYWxzXG4gICAgICBpZiAoIW9wdGlvbnMuaGVhZGVycykge1xuICAgICAgICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycyhpbnB1dC5oZWFkZXJzKVxuICAgICAgfVxuICAgICAgdGhpcy5tZXRob2QgPSBpbnB1dC5tZXRob2RcbiAgICAgIHRoaXMubW9kZSA9IGlucHV0Lm1vZGVcbiAgICAgIGlmICghYm9keSkge1xuICAgICAgICBib2R5ID0gaW5wdXQuX2JvZHlJbml0XG4gICAgICAgIGlucHV0LmJvZHlVc2VkID0gdHJ1ZVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnVybCA9IGlucHV0XG4gICAgfVxuXG4gICAgdGhpcy5jcmVkZW50aWFscyA9IG9wdGlvbnMuY3JlZGVudGlhbHMgfHwgdGhpcy5jcmVkZW50aWFscyB8fCAnb21pdCdcbiAgICBpZiAob3B0aW9ucy5oZWFkZXJzIHx8ICF0aGlzLmhlYWRlcnMpIHtcbiAgICAgIHRoaXMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKG9wdGlvbnMuaGVhZGVycylcbiAgICB9XG4gICAgdGhpcy5tZXRob2QgPSBub3JtYWxpemVNZXRob2Qob3B0aW9ucy5tZXRob2QgfHwgdGhpcy5tZXRob2QgfHwgJ0dFVCcpXG4gICAgdGhpcy5tb2RlID0gb3B0aW9ucy5tb2RlIHx8IHRoaXMubW9kZSB8fCBudWxsXG4gICAgdGhpcy5yZWZlcnJlciA9IG51bGxcblxuICAgIGlmICgodGhpcy5tZXRob2QgPT09ICdHRVQnIHx8IHRoaXMubWV0aG9kID09PSAnSEVBRCcpICYmIGJvZHkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0JvZHkgbm90IGFsbG93ZWQgZm9yIEdFVCBvciBIRUFEIHJlcXVlc3RzJylcbiAgICB9XG4gICAgdGhpcy5faW5pdEJvZHkoYm9keSlcbiAgfVxuXG4gIFJlcXVlc3QucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBSZXF1ZXN0KHRoaXMpXG4gIH1cblxuICBmdW5jdGlvbiBkZWNvZGUoYm9keSkge1xuICAgIHZhciBmb3JtID0gbmV3IEZvcm1EYXRhKClcbiAgICBib2R5LnRyaW0oKS5zcGxpdCgnJicpLmZvckVhY2goZnVuY3Rpb24oYnl0ZXMpIHtcbiAgICAgIGlmIChieXRlcykge1xuICAgICAgICB2YXIgc3BsaXQgPSBieXRlcy5zcGxpdCgnPScpXG4gICAgICAgIHZhciBuYW1lID0gc3BsaXQuc2hpZnQoKS5yZXBsYWNlKC9cXCsvZywgJyAnKVxuICAgICAgICB2YXIgdmFsdWUgPSBzcGxpdC5qb2luKCc9JykucmVwbGFjZSgvXFwrL2csICcgJylcbiAgICAgICAgZm9ybS5hcHBlbmQoZGVjb2RlVVJJQ29tcG9uZW50KG5hbWUpLCBkZWNvZGVVUklDb21wb25lbnQodmFsdWUpKVxuICAgICAgfVxuICAgIH0pXG4gICAgcmV0dXJuIGZvcm1cbiAgfVxuXG4gIGZ1bmN0aW9uIGhlYWRlcnMoeGhyKSB7XG4gICAgdmFyIGhlYWQgPSBuZXcgSGVhZGVycygpXG4gICAgdmFyIHBhaXJzID0gKHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSB8fCAnJykudHJpbSgpLnNwbGl0KCdcXG4nKVxuICAgIHBhaXJzLmZvckVhY2goZnVuY3Rpb24oaGVhZGVyKSB7XG4gICAgICB2YXIgc3BsaXQgPSBoZWFkZXIudHJpbSgpLnNwbGl0KCc6JylcbiAgICAgIHZhciBrZXkgPSBzcGxpdC5zaGlmdCgpLnRyaW0oKVxuICAgICAgdmFyIHZhbHVlID0gc3BsaXQuam9pbignOicpLnRyaW0oKVxuICAgICAgaGVhZC5hcHBlbmQoa2V5LCB2YWx1ZSlcbiAgICB9KVxuICAgIHJldHVybiBoZWFkXG4gIH1cblxuICBCb2R5LmNhbGwoUmVxdWVzdC5wcm90b3R5cGUpXG5cbiAgZnVuY3Rpb24gUmVzcG9uc2UoYm9keUluaXQsIG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSB7fVxuICAgIH1cblxuICAgIHRoaXMudHlwZSA9ICdkZWZhdWx0J1xuICAgIHRoaXMuc3RhdHVzID0gb3B0aW9ucy5zdGF0dXNcbiAgICB0aGlzLm9rID0gdGhpcy5zdGF0dXMgPj0gMjAwICYmIHRoaXMuc3RhdHVzIDwgMzAwXG4gICAgdGhpcy5zdGF0dXNUZXh0ID0gb3B0aW9ucy5zdGF0dXNUZXh0XG4gICAgdGhpcy5oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzIGluc3RhbmNlb2YgSGVhZGVycyA/IG9wdGlvbnMuaGVhZGVycyA6IG5ldyBIZWFkZXJzKG9wdGlvbnMuaGVhZGVycylcbiAgICB0aGlzLnVybCA9IG9wdGlvbnMudXJsIHx8ICcnXG4gICAgdGhpcy5faW5pdEJvZHkoYm9keUluaXQpXG4gIH1cblxuICBCb2R5LmNhbGwoUmVzcG9uc2UucHJvdG90eXBlKVxuXG4gIFJlc3BvbnNlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXcgUmVzcG9uc2UodGhpcy5fYm9keUluaXQsIHtcbiAgICAgIHN0YXR1czogdGhpcy5zdGF0dXMsXG4gICAgICBzdGF0dXNUZXh0OiB0aGlzLnN0YXR1c1RleHQsXG4gICAgICBoZWFkZXJzOiBuZXcgSGVhZGVycyh0aGlzLmhlYWRlcnMpLFxuICAgICAgdXJsOiB0aGlzLnVybFxuICAgIH0pXG4gIH1cblxuICBSZXNwb25zZS5lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciByZXNwb25zZSA9IG5ldyBSZXNwb25zZShudWxsLCB7c3RhdHVzOiAwLCBzdGF0dXNUZXh0OiAnJ30pXG4gICAgcmVzcG9uc2UudHlwZSA9ICdlcnJvcidcbiAgICByZXR1cm4gcmVzcG9uc2VcbiAgfVxuXG4gIHZhciByZWRpcmVjdFN0YXR1c2VzID0gWzMwMSwgMzAyLCAzMDMsIDMwNywgMzA4XVxuXG4gIFJlc3BvbnNlLnJlZGlyZWN0ID0gZnVuY3Rpb24odXJsLCBzdGF0dXMpIHtcbiAgICBpZiAocmVkaXJlY3RTdGF0dXNlcy5pbmRleE9mKHN0YXR1cykgPT09IC0xKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW52YWxpZCBzdGF0dXMgY29kZScpXG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShudWxsLCB7c3RhdHVzOiBzdGF0dXMsIGhlYWRlcnM6IHtsb2NhdGlvbjogdXJsfX0pXG4gIH1cblxuICBzZWxmLkhlYWRlcnMgPSBIZWFkZXJzXG4gIHNlbGYuUmVxdWVzdCA9IFJlcXVlc3RcbiAgc2VsZi5SZXNwb25zZSA9IFJlc3BvbnNlXG5cbiAgc2VsZi5mZXRjaCA9IGZ1bmN0aW9uKGlucHV0LCBpbml0KSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIHJlcXVlc3RcbiAgICAgIGlmIChSZXF1ZXN0LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGlucHV0KSAmJiAhaW5pdCkge1xuICAgICAgICByZXF1ZXN0ID0gaW5wdXRcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcXVlc3QgPSBuZXcgUmVxdWVzdChpbnB1dCwgaW5pdClcbiAgICAgIH1cblxuICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpXG5cbiAgICAgIGZ1bmN0aW9uIHJlc3BvbnNlVVJMKCkge1xuICAgICAgICBpZiAoJ3Jlc3BvbnNlVVJMJyBpbiB4aHIpIHtcbiAgICAgICAgICByZXR1cm4geGhyLnJlc3BvbnNlVVJMXG4gICAgICAgIH1cblxuICAgICAgICAvLyBBdm9pZCBzZWN1cml0eSB3YXJuaW5ncyBvbiBnZXRSZXNwb25zZUhlYWRlciB3aGVuIG5vdCBhbGxvd2VkIGJ5IENPUlNcbiAgICAgICAgaWYgKC9eWC1SZXF1ZXN0LVVSTDovbS50ZXN0KHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkpIHtcbiAgICAgICAgICByZXR1cm4geGhyLmdldFJlc3BvbnNlSGVhZGVyKCdYLVJlcXVlc3QtVVJMJylcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgIHN0YXR1czogeGhyLnN0YXR1cyxcbiAgICAgICAgICBzdGF0dXNUZXh0OiB4aHIuc3RhdHVzVGV4dCxcbiAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKHhociksXG4gICAgICAgICAgdXJsOiByZXNwb25zZVVSTCgpXG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJvZHkgPSAncmVzcG9uc2UnIGluIHhociA/IHhoci5yZXNwb25zZSA6IHhoci5yZXNwb25zZVRleHRcbiAgICAgICAgcmVzb2x2ZShuZXcgUmVzcG9uc2UoYm9keSwgb3B0aW9ucykpXG4gICAgICB9XG5cbiAgICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlamVjdChuZXcgVHlwZUVycm9yKCdOZXR3b3JrIHJlcXVlc3QgZmFpbGVkJykpXG4gICAgICB9XG5cbiAgICAgIHhoci5vbnRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ05ldHdvcmsgcmVxdWVzdCBmYWlsZWQnKSlcbiAgICAgIH1cblxuICAgICAgeGhyLm9wZW4ocmVxdWVzdC5tZXRob2QsIHJlcXVlc3QudXJsLCB0cnVlKVxuXG4gICAgICBpZiAocmVxdWVzdC5jcmVkZW50aWFscyA9PT0gJ2luY2x1ZGUnKSB7XG4gICAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0cnVlXG4gICAgICB9XG5cbiAgICAgIGlmICgncmVzcG9uc2VUeXBlJyBpbiB4aHIgJiYgc3VwcG9ydC5ibG9iKSB7XG4gICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnYmxvYidcbiAgICAgIH1cblxuICAgICAgcmVxdWVzdC5oZWFkZXJzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIobmFtZSwgdmFsdWUpXG4gICAgICB9KVxuXG4gICAgICB4aHIuc2VuZCh0eXBlb2YgcmVxdWVzdC5fYm9keUluaXQgPT09ICd1bmRlZmluZWQnID8gbnVsbCA6IHJlcXVlc3QuX2JvZHlJbml0KVxuICAgIH0pXG4gIH1cbiAgc2VsZi5mZXRjaC5wb2x5ZmlsbCA9IHRydWVcbn0pKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB0aGlzKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi93aGF0d2ctZmV0Y2gvZmV0Y2guanNcbi8vIG1vZHVsZSBpZCA9IDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiY29uc3QgYnVpbGQgPSByZXF1aXJlKCcuL2J1aWxkJylcbmNvbnN0IHBhcnNlID0gcmVxdWlyZSgnLi9wYXJzZScpXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBidWlsZFF1ZXJ5OiBidWlsZCxcbiAgcGFyc2VRdWVyeTogcGFyc2Vcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHJhZS1xdWVyeS9saWIvaW5kZXguanMiLCIvKipcbiAqIEJ1aWxkIHF1ZXJ5IHBhcmFtcyBzdHJpbmdzIGZyb20gdGhlIGtleXMgYW5kIHZhbHVlcyBvZiBhbiBvYmplY3RcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdXJsIFRoZSB1cmwgdG8gYXBwZW5kIHRoZSBxdWVyeSB0b1xuICogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyBUaGUgb2JqZWN0IHRvIGJ1aWxkIHRoZSBxdWVyeSBmcm9tXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgcXVlcnkgc3RyaW5nXG4gKi9cblxuXG5cbmZ1bmN0aW9uIGJ1aWxkUXVlcnkodXJsID0gJycsIHBhcmFtcyA9IHt9KSB7XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhwYXJhbXMpXG5cbiAgaWYgKGtleXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHVybFxuICB9XG5cbiAgcmV0dXJuIHVybCArIGVuY29kZVVSSShrZXlzXG4gICAgLnJlZHVjZSgoYWNjLCBrZXkpID0+IGAke2FjY30mJHtrZXl9PSR7cGFyYW1zW2tleV0gfHwgJyd9YCwgJz8nKVxuICAgIC5yZXBsYWNlKCc/JicsICc/JylcbiAgKVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJ1aWxkUXVlcnlcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHJhZS1xdWVyeS9saWIvYnVpbGQuanMiLCIvKipcbiAqIFBhcnNlcyBhIHVybCB0byBnZXQgdGhlIHF1ZXJ5IHBhcmFtc1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB1cmwgVGhlIHVybCB0byBwYXJzZVxuICogQHJldHVybnMge09iamVjdH0gQSBtYXAgb2YgdGhlIHF1ZXJ5IGtleXMgJiB2YWx1ZXNcbiAqL1xuZnVuY3Rpb24gcGFyc2VRdWVyeSh1cmwgPSAnJykge1xuICBpZiAoIXVybC5pbmNsdWRlcygnPycpKSB7XG4gICAgcmV0dXJuIHt9XG4gIH1cbiAgY29uc3QgcGFyYW1zID0ge31cbiAgY29uc3QgWywgcXVlcnldID0gZGVjb2RlVVJJKHVybCkuc3BsaXQoJz8nKVxuXG4gIGNvbnN0IHBhaXJzID0gcXVlcnkuc3BsaXQoJyYnKVxuXG4gIHBhaXJzLmZvckVhY2gocGFpciA9PiB7XG4gICAgY29uc3QgW2tleSwgdmFsdWVdID0gcGFpci5zcGxpdCgnPScpXG4gICAgcGFyYW1zW2tleV0gPSBwYXJzZVZhbHVlKHZhbHVlKVxuICB9KVxuICByZXR1cm4gcGFyYW1zXG59XG5cbmZ1bmN0aW9uIHBhcnNlVmFsdWUodmFsdWUpIHtcbiAgaWYgKHZhbHVlID09PSAnJykge1xuICAgIHJldHVybiB1bmRlZmluZWRcbiAgfVxuICBpZiAodmFsdWUgPT09ICd0cnVlJykge1xuICAgIHJldHVybiB0cnVlXG4gIH1cbiAgaWYgKHZhbHVlID09PSAnZmFsc2UnKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbiAgY29uc3QgbnVtYmVyID0gcGFyc2VGbG9hdCh2YWx1ZSlcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuICBpZiAoTnVtYmVyLmlzTmFOKG51bWJlcikgfHwgbnVtYmVyICE9IHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlXG4gIH1cbiAgcmV0dXJuIG51bWJlclxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcnNlUXVlcnlcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHJhZS1xdWVyeS9saWIvcGFyc2UuanMiLCJjb25zdCBpZGVudGl0eSAgPSByZXNwb25zZSA9PiByZXNwb25zZTtcbmNvbnN0IHJlamVjdGlvbiA9IGVyciA9PiBQcm9taXNlLnJlamVjdChlcnIpO1xuXG5jbGFzcyBNaWRkbGV3YXJlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fcmVxID0gW107XG4gICAgdGhpcy5fcmVzID0gW107XG4gIH1cblxuICByZXF1ZXN0KGZuKSB7XG4gICAgdGhpcy5fcmVxLnB1c2goZm4pO1xuICAgIHJldHVybiB0aGlzLl9yZXEubGVuZ3RoIC0gMTtcbiAgfVxuXG4gIHJlc3BvbnNlKGZ1bGZpbGwgPSBpZGVudGl0eSwgcmVqZWN0ID0gcmVqZWN0aW9uKSB7XG4gICAgdGhpcy5fcmVzLnB1c2goeyBmdWxmaWxsLCByZWplY3QgfSk7XG4gICAgcmV0dXJuIHRoaXMuX3Jlcy5sZW5ndGggLSAxO1xuICB9XG5cbiAgcmVzb2x2ZVJlcXVlc3RzKGNvbmZpZykge1xuICAgIHJldHVybiB0aGlzLl9yZXEucmVkdWNlKChwcm9taXNlLCB0YXNrKSA9PiB7XG4gICAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKHRhc2spO1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfSwgUHJvbWlzZS5yZXNvbHZlKGNvbmZpZykpO1xuICB9XG5cbiAgcmVzb2x2ZVJlc3BvbnNlcyhyZXNwb25zZSkge1xuICAgIHJldHVybiB0aGlzLl9yZXMucmVkdWNlKChwcm9taXNlLCB0YXNrKSA9PiB7XG4gICAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKHRhc2suZnVsZmlsbCwgdGFzay5yZWplY3QpO1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfSwgUHJvbWlzZS5yZXNvbHZlKHJlc3BvbnNlKSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBNaWRkbGV3YXJlO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbGliL21pZGRsZXdhcmUuanMiLCJjb25zdCBtZXJnZSA9IHJlcXVpcmUoJy4vdXRpbHMnKS5tZXJnZTtcblxuY29uc3QgREVGQVVMVF9IRUFERVJTID0ge1xuICAnQWNjZXB0JyAgICAgIDogJ2FwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKicsIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcXVvdGUtcHJvcHNcbiAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xufTtcblxuY29uc3QgREVGQVVMVF9DT05GSUcgPSB7XG4gIHhzcmZDb29raWVOYW1lOiAnWFNSRi1UT0tFTicsXG4gIHhzcmZIZWFkZXJOYW1lOiAnWC1YU1JGLVRPS0VOJ1xufTtcblxuY2xhc3MgQ29uZmlnIHtcbiAgY29uc3RydWN0b3IoY29uZmlnID0ge30pIHtcbiAgICB0aGlzLl9kZWZhdWx0cyA9IG1lcmdlKERFRkFVTFRfQ09ORklHLCB7IGhlYWRlcnM6IERFRkFVTFRfSEVBREVSUyB9KTtcbiAgICB0aGlzLl9jb25maWcgICA9IHt9O1xuXG4gICAgdGhpcy5zZXQoY29uZmlnKTtcbiAgfVxuXG4gIG1lcmdlV2l0aERlZmF1bHRzKC4uLmNvbmZpZ1BhcmFtcykge1xuICAgIGNvbnN0IGNvbmZpZyA9IG1lcmdlKHRoaXMuX2RlZmF1bHRzLCB0aGlzLl9jb25maWcsIC4uLmNvbmZpZ1BhcmFtcyk7XG4gICAgaWYgKFxuICAgICAgdHlwZW9mIGNvbmZpZy5ib2R5ID09PSAnb2JqZWN0JyAmJlxuICAgICAgY29uZmlnLmhlYWRlcnMgJiZcbiAgICAgIGNvbmZpZy5oZWFkZXJzWydDb250ZW50LVR5cGUnXSA9PT0gJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgKSB7XG4gICAgICBjb25maWcuYm9keSA9IEpTT04uc3RyaW5naWZ5KGNvbmZpZy5ib2R5KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbmZpZztcbiAgfVxuXG4gIHNldChjb25maWcpIHtcbiAgICB0aGlzLl9jb25maWcgPSBtZXJnZSh0aGlzLl9jb25maWcsIGNvbmZpZyk7XG4gIH1cblxuICBnZXQoKSB7XG4gICAgcmV0dXJuIG1lcmdlKHRoaXMuX2RlZmF1bHRzLCB0aGlzLl9jb25maWcpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQ29uZmlnO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbGliL2NvbmZpZy5qcyIsImNvbnN0IG1lcmdlUmVjdXJzaXZlID0gcmVxdWlyZSgnbWVyZ2UnKS5yZWN1cnNpdmU7XG5cbi8qKlxuICogUmVjdXJzaXZlbHkgbWVyZ2Ugb2JqZWN0c1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RzIHRvIG1lcmdlXG4gKiBAcmV0dXJuIHtPYmplY3R9IHRoZSBtZXJnZWQgb2JqZWN0c1xuICovXG5mdW5jdGlvbiBtZXJnZSguLi5wYXJhbXMpICB7XG4gIHJldHVybiBtZXJnZVJlY3Vyc2l2ZSh0cnVlLCAuLi5wYXJhbXMpO1xufVxuXG4vKipcbiAqIFJldHVybnMgYW4gb2JqZWN0IHdpdGggdGhlIHNraXBwZWQgcHJvcGVydGllc1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmogdGhlIG9iamVjdCB0byBza2lwIHByb3BlcnRpZXMgZnJvbVxuICogQHBhcmFtIHtbU3RyaW5nXX0ga2V5cyBrZXlzIG9mIHRoZSBwcm9wZXJ0aWVzIHRvIHNraXBcbiAqIEByZXR1cm4ge09iamVjdH0gdGhlIG9iamVjdCB3aXRoIHRoZSBwcm9wZXJ0aWVzIHNraXBwZWRcbiAqL1xuZnVuY3Rpb24gc2tpcChvYmosIGtleXMpIHtcbiAgY29uc3Qgc2tpcHBlZCA9IHt9O1xuICBPYmplY3Qua2V5cyhvYmopLmZvckVhY2goKG9iaktleSkgPT4ge1xuICAgIGlmIChrZXlzLmluZGV4T2Yob2JqS2V5KSA9PT0gLTEpIHtcbiAgICAgIHNraXBwZWRbb2JqS2V5XSA9IG9ialtvYmpLZXldO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBza2lwcGVkO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgbWVyZ2UsXG4gIHNraXBcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9saWIvdXRpbHMuanMiLCIvKiFcclxuICogQG5hbWUgSmF2YVNjcmlwdC9Ob2RlSlMgTWVyZ2UgdjEuMi4wXHJcbiAqIEBhdXRob3IgeWVpa29zXHJcbiAqIEByZXBvc2l0b3J5IGh0dHBzOi8vZ2l0aHViLmNvbS95ZWlrb3MvanMubWVyZ2VcclxuXHJcbiAqIENvcHlyaWdodCAyMDE0IHllaWtvcyAtIE1JVCBsaWNlbnNlXHJcbiAqIGh0dHBzOi8vcmF3LmdpdGh1Yi5jb20veWVpa29zL2pzLm1lcmdlL21hc3Rlci9MSUNFTlNFXHJcbiAqL1xyXG5cclxuOyhmdW5jdGlvbihpc05vZGUpIHtcclxuXHJcblx0LyoqXHJcblx0ICogTWVyZ2Ugb25lIG9yIG1vcmUgb2JqZWN0cyBcclxuXHQgKiBAcGFyYW0gYm9vbD8gY2xvbmVcclxuXHQgKiBAcGFyYW0gbWl4ZWQsLi4uIGFyZ3VtZW50c1xyXG5cdCAqIEByZXR1cm4gb2JqZWN0XHJcblx0ICovXHJcblxyXG5cdHZhciBQdWJsaWMgPSBmdW5jdGlvbihjbG9uZSkge1xyXG5cclxuXHRcdHJldHVybiBtZXJnZShjbG9uZSA9PT0gdHJ1ZSwgZmFsc2UsIGFyZ3VtZW50cyk7XHJcblxyXG5cdH0sIHB1YmxpY05hbWUgPSAnbWVyZ2UnO1xyXG5cclxuXHQvKipcclxuXHQgKiBNZXJnZSB0d28gb3IgbW9yZSBvYmplY3RzIHJlY3Vyc2l2ZWx5IFxyXG5cdCAqIEBwYXJhbSBib29sPyBjbG9uZVxyXG5cdCAqIEBwYXJhbSBtaXhlZCwuLi4gYXJndW1lbnRzXHJcblx0ICogQHJldHVybiBvYmplY3RcclxuXHQgKi9cclxuXHJcblx0UHVibGljLnJlY3Vyc2l2ZSA9IGZ1bmN0aW9uKGNsb25lKSB7XHJcblxyXG5cdFx0cmV0dXJuIG1lcmdlKGNsb25lID09PSB0cnVlLCB0cnVlLCBhcmd1bWVudHMpO1xyXG5cclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBDbG9uZSB0aGUgaW5wdXQgcmVtb3ZpbmcgYW55IHJlZmVyZW5jZVxyXG5cdCAqIEBwYXJhbSBtaXhlZCBpbnB1dFxyXG5cdCAqIEByZXR1cm4gbWl4ZWRcclxuXHQgKi9cclxuXHJcblx0UHVibGljLmNsb25lID0gZnVuY3Rpb24oaW5wdXQpIHtcclxuXHJcblx0XHR2YXIgb3V0cHV0ID0gaW5wdXQsXHJcblx0XHRcdHR5cGUgPSB0eXBlT2YoaW5wdXQpLFxyXG5cdFx0XHRpbmRleCwgc2l6ZTtcclxuXHJcblx0XHRpZiAodHlwZSA9PT0gJ2FycmF5Jykge1xyXG5cclxuXHRcdFx0b3V0cHV0ID0gW107XHJcblx0XHRcdHNpemUgPSBpbnB1dC5sZW5ndGg7XHJcblxyXG5cdFx0XHRmb3IgKGluZGV4PTA7aW5kZXg8c2l6ZTsrK2luZGV4KVxyXG5cclxuXHRcdFx0XHRvdXRwdXRbaW5kZXhdID0gUHVibGljLmNsb25lKGlucHV0W2luZGV4XSk7XHJcblxyXG5cdFx0fSBlbHNlIGlmICh0eXBlID09PSAnb2JqZWN0Jykge1xyXG5cclxuXHRcdFx0b3V0cHV0ID0ge307XHJcblxyXG5cdFx0XHRmb3IgKGluZGV4IGluIGlucHV0KVxyXG5cclxuXHRcdFx0XHRvdXRwdXRbaW5kZXhdID0gUHVibGljLmNsb25lKGlucHV0W2luZGV4XSk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBvdXRwdXQ7XHJcblxyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIE1lcmdlIHR3byBvYmplY3RzIHJlY3Vyc2l2ZWx5XHJcblx0ICogQHBhcmFtIG1peGVkIGlucHV0XHJcblx0ICogQHBhcmFtIG1peGVkIGV4dGVuZFxyXG5cdCAqIEByZXR1cm4gbWl4ZWRcclxuXHQgKi9cclxuXHJcblx0ZnVuY3Rpb24gbWVyZ2VfcmVjdXJzaXZlKGJhc2UsIGV4dGVuZCkge1xyXG5cclxuXHRcdGlmICh0eXBlT2YoYmFzZSkgIT09ICdvYmplY3QnKVxyXG5cclxuXHRcdFx0cmV0dXJuIGV4dGVuZDtcclxuXHJcblx0XHRmb3IgKHZhciBrZXkgaW4gZXh0ZW5kKSB7XHJcblxyXG5cdFx0XHRpZiAodHlwZU9mKGJhc2Vba2V5XSkgPT09ICdvYmplY3QnICYmIHR5cGVPZihleHRlbmRba2V5XSkgPT09ICdvYmplY3QnKSB7XHJcblxyXG5cdFx0XHRcdGJhc2Vba2V5XSA9IG1lcmdlX3JlY3Vyc2l2ZShiYXNlW2tleV0sIGV4dGVuZFtrZXldKTtcclxuXHJcblx0XHRcdH0gZWxzZSB7XHJcblxyXG5cdFx0XHRcdGJhc2Vba2V5XSA9IGV4dGVuZFtrZXldO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gYmFzZTtcclxuXHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBNZXJnZSB0d28gb3IgbW9yZSBvYmplY3RzXHJcblx0ICogQHBhcmFtIGJvb2wgY2xvbmVcclxuXHQgKiBAcGFyYW0gYm9vbCByZWN1cnNpdmVcclxuXHQgKiBAcGFyYW0gYXJyYXkgYXJndlxyXG5cdCAqIEByZXR1cm4gb2JqZWN0XHJcblx0ICovXHJcblxyXG5cdGZ1bmN0aW9uIG1lcmdlKGNsb25lLCByZWN1cnNpdmUsIGFyZ3YpIHtcclxuXHJcblx0XHR2YXIgcmVzdWx0ID0gYXJndlswXSxcclxuXHRcdFx0c2l6ZSA9IGFyZ3YubGVuZ3RoO1xyXG5cclxuXHRcdGlmIChjbG9uZSB8fCB0eXBlT2YocmVzdWx0KSAhPT0gJ29iamVjdCcpXHJcblxyXG5cdFx0XHRyZXN1bHQgPSB7fTtcclxuXHJcblx0XHRmb3IgKHZhciBpbmRleD0wO2luZGV4PHNpemU7KytpbmRleCkge1xyXG5cclxuXHRcdFx0dmFyIGl0ZW0gPSBhcmd2W2luZGV4XSxcclxuXHJcblx0XHRcdFx0dHlwZSA9IHR5cGVPZihpdGVtKTtcclxuXHJcblx0XHRcdGlmICh0eXBlICE9PSAnb2JqZWN0JykgY29udGludWU7XHJcblxyXG5cdFx0XHRmb3IgKHZhciBrZXkgaW4gaXRlbSkge1xyXG5cclxuXHRcdFx0XHR2YXIgc2l0ZW0gPSBjbG9uZSA/IFB1YmxpYy5jbG9uZShpdGVtW2tleV0pIDogaXRlbVtrZXldO1xyXG5cclxuXHRcdFx0XHRpZiAocmVjdXJzaXZlKSB7XHJcblxyXG5cdFx0XHRcdFx0cmVzdWx0W2tleV0gPSBtZXJnZV9yZWN1cnNpdmUocmVzdWx0W2tleV0sIHNpdGVtKTtcclxuXHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHJcblx0XHRcdFx0XHRyZXN1bHRba2V5XSA9IHNpdGVtO1xyXG5cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IHR5cGUgb2YgdmFyaWFibGVcclxuXHQgKiBAcGFyYW0gbWl4ZWQgaW5wdXRcclxuXHQgKiBAcmV0dXJuIHN0cmluZ1xyXG5cdCAqXHJcblx0ICogQHNlZSBodHRwOi8vanNwZXJmLmNvbS90eXBlb2Z2YXJcclxuXHQgKi9cclxuXHJcblx0ZnVuY3Rpb24gdHlwZU9mKGlucHV0KSB7XHJcblxyXG5cdFx0cmV0dXJuICh7fSkudG9TdHJpbmcuY2FsbChpbnB1dCkuc2xpY2UoOCwgLTEpLnRvTG93ZXJDYXNlKCk7XHJcblxyXG5cdH1cclxuXHJcblx0aWYgKGlzTm9kZSkge1xyXG5cclxuXHRcdG1vZHVsZS5leHBvcnRzID0gUHVibGljO1xyXG5cclxuXHR9IGVsc2Uge1xyXG5cclxuXHRcdHdpbmRvd1twdWJsaWNOYW1lXSA9IFB1YmxpYztcclxuXHJcblx0fVxyXG5cclxufSkodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgbW9kdWxlICYmIHR5cGVvZiBtb2R1bGUuZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9tZXJnZS9tZXJnZS5qc1xuLy8gbW9kdWxlIGlkID0gOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuXHRpZighbW9kdWxlLndlYnBhY2tQb2x5ZmlsbCkge1xuXHRcdG1vZHVsZS5kZXByZWNhdGUgPSBmdW5jdGlvbigpIHt9O1xuXHRcdG1vZHVsZS5wYXRocyA9IFtdO1xuXHRcdC8vIG1vZHVsZS5wYXJlbnQgPSB1bmRlZmluZWQgYnkgZGVmYXVsdFxuXHRcdG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xuXHRcdG1vZHVsZS53ZWJwYWNrUG9seWZpbGwgPSAxO1xuXHR9XG5cdHJldHVybiBtb2R1bGU7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAod2VicGFjaykvYnVpbGRpbi9tb2R1bGUuanNcbi8vIG1vZHVsZSBpZCA9IDlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyoqXG4gKiBDcmVhdGVzIGEgbmV3IFVSTCBieSBjb21iaW5pbmcgdGhlIHNwZWNpZmllZCBVUkxzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2VVUkwgVGhlIGJhc2UgVVJMXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVsYXRpdmVVUkwgVGhlIHJlbGF0aXZlIFVSTFxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGNvbWJpbmVkIFVSTFxuICovXG5cbmZ1bmN0aW9uIGNvbWJpbmVVUkxzKGJhc2VVUkwsIHJlbGF0aXZlVVJMKSB7XG4gIHJldHVybiBgJHtiYXNlVVJMLnJlcGxhY2UoL1xcLyskLywgJycpfS8ke3JlbGF0aXZlVVJMLnJlcGxhY2UoL15cXC8rLywgJycpfWA7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBzcGVjaWZpZWQgVVJMIGlzIGFic29sdXRlXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgVVJMIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBzcGVjaWZpZWQgVVJMIGlzIGFic29sdXRlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBYnNvbHV0ZVVSTCh1cmwpIHtcbiAgLy8gQSBVUkwgaXMgY29uc2lkZXJlZCBhYnNvbHV0ZSBpZiBpdCBiZWdpbnMgd2l0aCBcIjxzY2hlbWU+Oi8vXCIgb3IgXCIvL1wiIChwcm90b2NvbC1yZWxhdGl2ZSBVUkwpLlxuICAvLyBSRkMgMzk4NiBkZWZpbmVzIHNjaGVtZSBuYW1lIGFzIGEgc2VxdWVuY2Ugb2YgY2hhcmFjdGVycyBiZWdpbm5pbmcgd2l0aCBhIGxldHRlciBhbmQgZm9sbG93ZWRcbiAgLy8gYnkgYW55IGNvbWJpbmF0aW9uIG9mIGxldHRlcnMsIGRpZ2l0cywgcGx1cywgcGVyaW9kLCBvciBoeXBoZW4uXG4gIHJldHVybiAvXihbYS16XVthLXpcXGRcXCtcXC1cXC5dKjopP1xcL1xcLy9pLnRlc3QodXJsKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxufVxuXG5mdW5jdGlvbiBmb3JtYXRVUkxzKGJhc2VVcmwsIHJlbGF0aXZlVVJMKSB7XG4gIGlmICghYmFzZVVybCB8fCBpc0Fic29sdXRlVVJMKHJlbGF0aXZlVVJMKSkge1xuICAgIHJldHVybiByZWxhdGl2ZVVSTDtcbiAgfVxuXG4gIHJldHVybiBjb21iaW5lVVJMcyhiYXNlVXJsLCByZWxhdGl2ZVVSTCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBmb3JtYXQgICAgOiBmb3JtYXRVUkxzLFxuICBjb21iaW5lICAgOiBjb21iaW5lVVJMcyxcbiAgaXNBYnNvbHV0ZTogaXNBYnNvbHV0ZVVSTFxufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2xpYi9oZWxwZXJzL3VybC1oYW5kbGVyLmpzIiwiLyoqXG4gKiBXcmFwcCBhIHJlc3BvbnNlXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHJlc3BvbnNlIHJlc3BvbnNlIG9iamVjdFxuICogQHBhcmFtIHtTdHJpbmd9IHJlYWRlciB0eXBlIG9mIHJlYWRlciB0byB1c2Ugb24gcmVzcG9uc2UgYm9keVxuICogQHJldHVybiB7UHJvbWlzZX0gcmVzb2x2ZXMgdG8gdGhlIHdyYXBwZWQgcmVhZCByZXNwb25zZVxuICovXG5mdW5jdGlvbiB3cmFwUmVzcG9uc2UocmVzcG9uc2UsIHJlYWRlcikge1xuICByZXR1cm4gcmVzcG9uc2VbcmVhZGVyXSgpXG4gIC50aGVuKGRhdGEgPT4gKHtcbiAgICBoZWFkZXJzICAgOiByZXNwb25zZS5oZWFkZXJzLFxuICAgIHN0YXR1cyAgICA6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICBzdGF0dXNUZXh0OiByZXNwb25zZS5zdGF0dXNUZXh0LFxuICAgIGRhdGFcbiAgfSkpO1xufVxuXG4vKipcbiAqIFJlYWRzIG9yIHJlamVjdHMgYSBmZXRjaCByZXF1ZXN0IHJlc3BvbnNlXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHJlc3BvbnNlIHJlc3BvbnNlIG9iamVjdFxuICogQHBhcmFtIHtTdHJpbmd9IHJlYWRlciB0eXBlIG9mIHJlYWRlciB0byB1c2Ugb24gcmVzcG9uc2UgYm9keVxuICogQHJldHVybiB7UHJvbWlzZX0gcmVhZCBvciByZWplY3Rpb24gcHJvbWlzZVxuICovXG5mdW5jdGlvbiByZXNwb25zZUhhbmRsZXIocmVzcG9uc2UsIHJlYWRlcikge1xuICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgY29uc3QgZXJyICAgICAgID0gbmV3IEVycm9yKHJlc3BvbnNlLnN0YXR1c1RleHQpO1xuICAgIGVyci5zdGF0dXMgICAgICA9IHJlc3BvbnNlLnN0YXR1cztcbiAgICBlcnIuc3RhdHVzVGV4dCAgPSByZXNwb25zZS5zdGF0dXNUZXh0O1xuICAgIGVyci5oZWFkZXJzICAgICA9IHJlc3BvbnNlLmhlYWRlcnM7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7XG4gIH1cbiAgaWYgKHJlYWRlcikge1xuICAgIHJldHVybiB3cmFwUmVzcG9uc2UocmVzcG9uc2UsIHJlYWRlcik7XG4gIH1cblxuICBjb25zdCBjb250ZW50VHlwZSA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdDb250ZW50LVR5cGUnKTtcbiAgaWYgKGNvbnRlbnRUeXBlICYmIGNvbnRlbnRUeXBlLmluY2x1ZGVzKCdhcHBsaWNhdGlvbi9qc29uJykpIHtcbiAgICByZXR1cm4gd3JhcFJlc3BvbnNlKHJlc3BvbnNlLCAnanNvbicpO1xuICB9XG4gIHJldHVybiB3cmFwUmVzcG9uc2UocmVzcG9uc2UsICd0ZXh0Jyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcmVzcG9uc2VIYW5kbGVyO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbGliL2hlbHBlcnMvcmVzcG9uc2UtaGFuZGxlci5qcyJdLCJzb3VyY2VSb290IjoiIn0=